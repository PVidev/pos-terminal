(function(){const P=document.createElement("link").relList;if(P&&P.supports&&P.supports("modulepreload"))return;for(const k of document.querySelectorAll('link[rel="modulepreload"]'))M(k);new MutationObserver(k=>{for(const u of k)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&M(p)}).observe(document,{childList:!0,subtree:!0});function d(k){const u={};return k.integrity&&(u.integrity=k.integrity),k.referrerPolicy&&(u.referrerPolicy=k.referrerPolicy),k.crossOrigin==="use-credentials"?u.credentials="include":k.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function M(k){if(k.ep)return;k.ep=!0;const u=d(k);fetch(k.href,u)}})();var Oa={exports:{}},Dr={},Ia={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc;function rf(){if(Uc)return oe;Uc=1;var f=Symbol.for("react.element"),P=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),p=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),E=Symbol.iterator;function g(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,w={};function h(x,R,se){this.props=x,this.context=R,this.refs=w,this.updater=se||F}h.prototype.isReactComponent={},h.prototype.setState=function(x,R){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,R,"setState")},h.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function $(){}$.prototype=h.prototype;function H(x,R,se){this.props=x,this.context=R,this.refs=w,this.updater=se||F}var C=H.prototype=new $;C.constructor=H,T(C,h.prototype),C.isPureReactComponent=!0;var b=Array.isArray,U=Object.prototype.hasOwnProperty,V={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function W(x,R,se){var ae,ce={},ue=null,xe=null;if(R!=null)for(ae in R.ref!==void 0&&(xe=R.ref),R.key!==void 0&&(ue=""+R.key),R)U.call(R,ae)&&!B.hasOwnProperty(ae)&&(ce[ae]=R[ae]);var me=arguments.length-2;if(me===1)ce.children=se;else if(1<me){for(var Z=Array(me),he=0;he<me;he++)Z[he]=arguments[he+2];ce.children=Z}if(x&&x.defaultProps)for(ae in me=x.defaultProps,me)ce[ae]===void 0&&(ce[ae]=me[ae]);return{$$typeof:f,type:x,key:ue,ref:xe,props:ce,_owner:V.current}}function le(x,R){return{$$typeof:f,type:x.type,key:R,ref:x.ref,props:x.props,_owner:x._owner}}function pe(x){return typeof x=="object"&&x!==null&&x.$$typeof===f}function ye(x){var R={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(se){return R[se]})}var je=/\/+/g;function we(x,R){return typeof x=="object"&&x!==null&&x.key!=null?ye(""+x.key):R.toString(36)}function Te(x,R,se,ae,ce){var ue=typeof x;(ue==="undefined"||ue==="boolean")&&(x=null);var xe=!1;if(x===null)xe=!0;else switch(ue){case"string":case"number":xe=!0;break;case"object":switch(x.$$typeof){case f:case P:xe=!0}}if(xe)return xe=x,ce=ce(xe),x=ae===""?"."+we(xe,0):ae,b(ce)?(se="",x!=null&&(se=x.replace(je,"$&/")+"/"),Te(ce,R,se,"",function(he){return he})):ce!=null&&(pe(ce)&&(ce=le(ce,se+(!ce.key||xe&&xe.key===ce.key?"":(""+ce.key).replace(je,"$&/")+"/")+x)),R.push(ce)),1;if(xe=0,ae=ae===""?".":ae+":",b(x))for(var me=0;me<x.length;me++){ue=x[me];var Z=ae+we(ue,me);xe+=Te(ue,R,se,Z,ce)}else if(Z=g(x),typeof Z=="function")for(x=Z.call(x),me=0;!(ue=x.next()).done;)ue=ue.value,Z=ae+we(ue,me++),xe+=Te(ue,R,se,Z,ce);else if(ue==="object")throw R=String(x),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return xe}function lt(x,R,se){if(x==null)return x;var ae=[],ce=0;return Te(x,ae,"","",function(ue){return R.call(se,ue,ce++)}),ae}function Ue(x){if(x._status===-1){var R=x._result;R=R(),R.then(function(se){(x._status===0||x._status===-1)&&(x._status=1,x._result=se)},function(se){(x._status===0||x._status===-1)&&(x._status=2,x._result=se)}),x._status===-1&&(x._status=0,x._result=R)}if(x._status===1)return x._result.default;throw x._result}var be={current:null},Q={transition:null},ne={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Q,ReactCurrentOwner:V};function K(){throw Error("act(...) is not supported in production builds of React.")}return oe.Children={map:lt,forEach:function(x,R,se){lt(x,function(){R.apply(this,arguments)},se)},count:function(x){var R=0;return lt(x,function(){R++}),R},toArray:function(x){return lt(x,function(R){return R})||[]},only:function(x){if(!pe(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},oe.Component=h,oe.Fragment=d,oe.Profiler=k,oe.PureComponent=H,oe.StrictMode=M,oe.Suspense=v,oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,oe.act=K,oe.cloneElement=function(x,R,se){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var ae=T({},x.props),ce=x.key,ue=x.ref,xe=x._owner;if(R!=null){if(R.ref!==void 0&&(ue=R.ref,xe=V.current),R.key!==void 0&&(ce=""+R.key),x.type&&x.type.defaultProps)var me=x.type.defaultProps;for(Z in R)U.call(R,Z)&&!B.hasOwnProperty(Z)&&(ae[Z]=R[Z]===void 0&&me!==void 0?me[Z]:R[Z])}var Z=arguments.length-2;if(Z===1)ae.children=se;else if(1<Z){me=Array(Z);for(var he=0;he<Z;he++)me[he]=arguments[he+2];ae.children=me}return{$$typeof:f,type:x.type,key:ce,ref:ue,props:ae,_owner:xe}},oe.createContext=function(x){return x={$$typeof:p,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:u,_context:x},x.Consumer=x},oe.createElement=W,oe.createFactory=function(x){var R=W.bind(null,x);return R.type=x,R},oe.createRef=function(){return{current:null}},oe.forwardRef=function(x){return{$$typeof:D,render:x}},oe.isValidElement=pe,oe.lazy=function(x){return{$$typeof:j,_payload:{_status:-1,_result:x},_init:Ue}},oe.memo=function(x,R){return{$$typeof:_,type:x,compare:R===void 0?null:R}},oe.startTransition=function(x){var R=Q.transition;Q.transition={};try{x()}finally{Q.transition=R}},oe.unstable_act=K,oe.useCallback=function(x,R){return be.current.useCallback(x,R)},oe.useContext=function(x){return be.current.useContext(x)},oe.useDebugValue=function(){},oe.useDeferredValue=function(x){return be.current.useDeferredValue(x)},oe.useEffect=function(x,R){return be.current.useEffect(x,R)},oe.useId=function(){return be.current.useId()},oe.useImperativeHandle=function(x,R,se){return be.current.useImperativeHandle(x,R,se)},oe.useInsertionEffect=function(x,R){return be.current.useInsertionEffect(x,R)},oe.useLayoutEffect=function(x,R){return be.current.useLayoutEffect(x,R)},oe.useMemo=function(x,R){return be.current.useMemo(x,R)},oe.useReducer=function(x,R,se){return be.current.useReducer(x,R,se)},oe.useRef=function(x){return be.current.useRef(x)},oe.useState=function(x){return be.current.useState(x)},oe.useSyncExternalStore=function(x,R,se){return be.current.useSyncExternalStore(x,R,se)},oe.useTransition=function(){return be.current.useTransition()},oe.version="18.3.1",oe}var Bc;function Ba(){return Bc||(Bc=1,Ia.exports=rf()),Ia.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc;function sf(){if(Vc)return Dr;Vc=1;var f=Ba(),P=Symbol.for("react.element"),d=Symbol.for("react.fragment"),M=Object.prototype.hasOwnProperty,k=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function p(D,v,_){var j,E={},g=null,F=null;_!==void 0&&(g=""+_),v.key!==void 0&&(g=""+v.key),v.ref!==void 0&&(F=v.ref);for(j in v)M.call(v,j)&&!u.hasOwnProperty(j)&&(E[j]=v[j]);if(D&&D.defaultProps)for(j in v=D.defaultProps,v)E[j]===void 0&&(E[j]=v[j]);return{$$typeof:P,type:D,key:g,ref:F,props:E,_owner:k.current}}return Dr.Fragment=d,Dr.jsx=p,Dr.jsxs=p,Dr}var Hc;function lf(){return Hc||(Hc=1,Oa.exports=sf()),Oa.exports}var r=lf(),O=Ba(),$s={},Fa={exports:{}},et={},$a={exports:{}},Aa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc;function af(){return Wc||(Wc=1,function(f){function P(Q,ne){var K=Q.length;Q.push(ne);e:for(;0<K;){var x=K-1>>>1,R=Q[x];if(0<k(R,ne))Q[x]=ne,Q[K]=R,K=x;else break e}}function d(Q){return Q.length===0?null:Q[0]}function M(Q){if(Q.length===0)return null;var ne=Q[0],K=Q.pop();if(K!==ne){Q[0]=K;e:for(var x=0,R=Q.length,se=R>>>1;x<se;){var ae=2*(x+1)-1,ce=Q[ae],ue=ae+1,xe=Q[ue];if(0>k(ce,K))ue<R&&0>k(xe,ce)?(Q[x]=xe,Q[ue]=K,x=ue):(Q[x]=ce,Q[ae]=K,x=ae);else if(ue<R&&0>k(xe,K))Q[x]=xe,Q[ue]=K,x=ue;else break e}}return ne}function k(Q,ne){var K=Q.sortIndex-ne.sortIndex;return K!==0?K:Q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;f.unstable_now=function(){return u.now()}}else{var p=Date,D=p.now();f.unstable_now=function(){return p.now()-D}}var v=[],_=[],j=1,E=null,g=3,F=!1,T=!1,w=!1,h=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Q){for(var ne=d(_);ne!==null;){if(ne.callback===null)M(_);else if(ne.startTime<=Q)M(_),ne.sortIndex=ne.expirationTime,P(v,ne);else break;ne=d(_)}}function b(Q){if(w=!1,C(Q),!T)if(d(v)!==null)T=!0,Ue(U);else{var ne=d(_);ne!==null&&be(b,ne.startTime-Q)}}function U(Q,ne){T=!1,w&&(w=!1,$(W),W=-1),F=!0;var K=g;try{for(C(ne),E=d(v);E!==null&&(!(E.expirationTime>ne)||Q&&!ye());){var x=E.callback;if(typeof x=="function"){E.callback=null,g=E.priorityLevel;var R=x(E.expirationTime<=ne);ne=f.unstable_now(),typeof R=="function"?E.callback=R:E===d(v)&&M(v),C(ne)}else M(v);E=d(v)}if(E!==null)var se=!0;else{var ae=d(_);ae!==null&&be(b,ae.startTime-ne),se=!1}return se}finally{E=null,g=K,F=!1}}var V=!1,B=null,W=-1,le=5,pe=-1;function ye(){return!(f.unstable_now()-pe<le)}function je(){if(B!==null){var Q=f.unstable_now();pe=Q;var ne=!0;try{ne=B(!0,Q)}finally{ne?we():(V=!1,B=null)}}else V=!1}var we;if(typeof H=="function")we=function(){H(je)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,lt=Te.port2;Te.port1.onmessage=je,we=function(){lt.postMessage(null)}}else we=function(){h(je,0)};function Ue(Q){B=Q,V||(V=!0,we())}function be(Q,ne){W=h(function(){Q(f.unstable_now())},ne)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(Q){Q.callback=null},f.unstable_continueExecution=function(){T||F||(T=!0,Ue(U))},f.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<Q?Math.floor(1e3/Q):5},f.unstable_getCurrentPriorityLevel=function(){return g},f.unstable_getFirstCallbackNode=function(){return d(v)},f.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var K=g;g=ne;try{return Q()}finally{g=K}},f.unstable_pauseExecution=function(){},f.unstable_requestPaint=function(){},f.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var K=g;g=Q;try{return ne()}finally{g=K}},f.unstable_scheduleCallback=function(Q,ne,K){var x=f.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?x+K:x):K=x,Q){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=K+R,Q={id:j++,callback:ne,priorityLevel:Q,startTime:K,expirationTime:R,sortIndex:-1},K>x?(Q.sortIndex=K,P(_,Q),d(v)===null&&Q===d(_)&&(w?($(W),W=-1):w=!0,be(b,K-x))):(Q.sortIndex=R,P(v,Q),T||F||(T=!0,Ue(U))),Q},f.unstable_shouldYield=ye,f.unstable_wrapCallback=function(Q){var ne=g;return function(){var K=g;g=ne;try{return Q.apply(this,arguments)}finally{g=K}}}}(Aa)),Aa}var Qc;function of(){return Qc||(Qc=1,$a.exports=af()),$a.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc;function cf(){if(qc)return et;qc=1;var f=Ba(),P=of();function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M=new Set,k={};function u(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(k[e]=t,e=0;e<t.length;e++)M.add(t[e])}var D=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j={},E={};function g(e){return v.call(E,e)?!0:v.call(j,e)?!1:_.test(e)?E[e]=!0:(j[e]=!0,!1)}function F(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,t,n,s){if(t===null||typeof t>"u"||F(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function w(e,t,n,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){h[e]=new w(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];h[t]=new w(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){h[e]=new w(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){h[e]=new w(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){h[e]=new w(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){h[e]=new w(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){h[e]=new w(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){h[e]=new w(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){h[e]=new w(e,5,!1,e.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function H(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($,H);h[t]=new w(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($,H);h[t]=new w(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($,H);h[t]=new w(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){h[e]=new w(e,1,!1,e.toLowerCase(),null,!1,!1)}),h.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){h[e]=new w(e,1,!1,e.toLowerCase(),null,!0,!0)});function C(e,t,n,s){var l=h.hasOwnProperty(t)?h[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T(t,n,l,s)&&(n=null),s||l===null?g(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var b=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),V=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),ye=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),lt=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,x;function R(e){if(x===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||""}return`
`+x+e}var se=!1;function ae(e,t){if(!e||se)return"";se=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(S){var s=S}Reflect.construct(e,[],t)}else{try{t.call()}catch(S){s=S}e.call(t.prototype)}else{try{throw Error()}catch(S){s=S}e()}}catch(S){if(S&&s&&typeof S.stack=="string"){for(var l=S.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{se=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function ce(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=ae(e.type,!1),e;case 11:return e=ae(e.type.render,!1),e;case 1:return e=ae(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case V:return"Portal";case le:return"Profiler";case W:return"StrictMode";case we:return"Suspense";case Te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ye:return(e.displayName||"Context")+".Consumer";case pe:return(e._context.displayName||"Context")+".Provider";case je:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lt:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case Ue:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}function xe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(t);case 8:return t===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function he(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ke(e){e._valueTracker||(e._valueTracker=he(e))}function bt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Z(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function _r(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vs(e,t){var n=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qa(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=me(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ka(e,t){t=t.checked,t!=null&&C(e,"checked",t,!1)}function Hs(e,t){Ka(e,t);var n=me(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ws(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ws(e,t.type,me(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ga(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ws(e,t,n){(t!=="number"||_r(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vn=Array.isArray;function xn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+me(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Qs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(d(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(d(92));if(Vn(n)){if(1<n.length)throw Error(d(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:me(n)}}function Ya(e,t){var n=me(t.value),s=me(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Za(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ja(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ja(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tr,ei=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tr=Tr||document.createElement("div"),Tr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iu=["Webkit","ms","Moz","O"];Object.keys(Wn).forEach(function(e){iu.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wn[t]=Wn[e]})});function ti(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wn.hasOwnProperty(e)&&Wn[e]?(""+t).trim():t+"px"}function ni(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=ti(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var ou=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ks(e,t){if(t){if(ou[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(d(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(d(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(d(61))}if(t.style!=null&&typeof t.style!="object")throw Error(d(62))}}function Gs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xs=null;function Ys(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zs=null,gn=null,yn=null;function ri(e){if(e=mr(e)){if(typeof Zs!="function")throw Error(d(280));var t=e.stateNode;t&&(t=es(t),Zs(e.stateNode,e.type,t))}}function si(e){gn?yn?yn.push(e):yn=[e]:gn=e}function li(){if(gn){var e=gn,t=yn;if(yn=gn=null,ri(e),t)for(e=0;e<t.length;e++)ri(t[e])}}function ai(e,t){return e(t)}function ii(){}var Js=!1;function oi(e,t,n){if(Js)return e(t,n);Js=!0;try{return ai(e,t,n)}finally{Js=!1,(gn!==null||yn!==null)&&(ii(),li())}}function Qn(e,t){var n=e.stateNode;if(n===null)return null;var s=es(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(d(231,t,typeof n));return n}var el=!1;if(D)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){el=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{el=!1}function cu(e,t,n,s,l,a,i,o,c){var S=Array.prototype.slice.call(arguments,3);try{t.apply(n,S)}catch(L){this.onError(L)}}var Kn=!1,Mr=null,Rr=!1,tl=null,uu={onError:function(e){Kn=!0,Mr=e}};function du(e,t,n,s,l,a,i,o,c){Kn=!1,Mr=null,cu.apply(uu,arguments)}function fu(e,t,n,s,l,a,i,o,c){if(du.apply(this,arguments),Kn){if(Kn){var S=Mr;Kn=!1,Mr=null}else throw Error(d(198));Rr||(Rr=!0,tl=S)}}function en(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ci(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ui(e){if(en(e)!==e)throw Error(d(188))}function mu(e){var t=e.alternate;if(!t){if(t=en(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return ui(l),e;if(a===s)return ui(l),t;a=a.sibling}throw Error(d(188))}if(n.return!==s.return)n=l,s=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,s=a;break}if(o===s){i=!0,s=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,s=l;break}if(o===s){i=!0,s=a,n=l;break}o=o.sibling}if(!i)throw Error(d(189))}}if(n.alternate!==s)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function di(e){return e=mu(e),e!==null?fi(e):null}function fi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fi(e);if(t!==null)return t;e=e.sibling}return null}var mi=P.unstable_scheduleCallback,hi=P.unstable_cancelCallback,hu=P.unstable_shouldYield,pu=P.unstable_requestPaint,Pe=P.unstable_now,xu=P.unstable_getCurrentPriorityLevel,nl=P.unstable_ImmediatePriority,pi=P.unstable_UserBlockingPriority,zr=P.unstable_NormalPriority,gu=P.unstable_LowPriority,xi=P.unstable_IdlePriority,Lr=null,vt=null;function yu(e){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Lr,e,void 0,(e.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:wu,vu=Math.log,ju=Math.LN2;function wu(e){return e>>>=0,e===0?32:31-(vu(e)/ju|0)|0}var Or=64,Ir=4194304;function Gn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fr(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?s=Gn(o):(a&=i,a!==0&&(s=Gn(a)))}else i=n&~l,i!==0?s=Gn(i):a!==0&&(s=Gn(a));if(s===0)return 0;if(t!==0&&t!==s&&(t&l)===0&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-ft(t),l=1<<n,s|=e[n],t&=~l;return s}function Nu(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ku(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-ft(a),o=1<<i,c=l[i];c===-1?((o&n)===0||(o&s)!==0)&&(l[i]=Nu(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function rl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gi(){var e=Or;return Or<<=1,(Or&4194240)===0&&(Or=64),e}function sl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ft(t),e[t]=n}function bu(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-ft(n),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~a}}function ll(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-ft(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var ge=0;function yi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var vi,al,ji,wi,Ni,il=!1,$r=[],Rt=null,zt=null,Lt=null,Yn=new Map,Zn=new Map,Ot=[],Su="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ki(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Yn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(t.pointerId)}}function Jn(e,t,n,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=mr(t),t!==null&&al(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Cu(e,t,n,s,l){switch(t){case"focusin":return Rt=Jn(Rt,e,t,n,s,l),!0;case"dragenter":return zt=Jn(zt,e,t,n,s,l),!0;case"mouseover":return Lt=Jn(Lt,e,t,n,s,l),!0;case"pointerover":var a=l.pointerId;return Yn.set(a,Jn(Yn.get(a)||null,e,t,n,s,l)),!0;case"gotpointercapture":return a=l.pointerId,Zn.set(a,Jn(Zn.get(a)||null,e,t,n,s,l)),!0}return!1}function bi(e){var t=tn(e.target);if(t!==null){var n=en(t);if(n!==null){if(t=n.tag,t===13){if(t=ci(n),t!==null){e.blockedOn=t,Ni(e.priority,function(){ji(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ar(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Xs=s,n.target.dispatchEvent(s),Xs=null}else return t=mr(n),t!==null&&al(t),e.blockedOn=n,!1;t.shift()}return!0}function Si(e,t,n){Ar(e)&&n.delete(t)}function Eu(){il=!1,Rt!==null&&Ar(Rt)&&(Rt=null),zt!==null&&Ar(zt)&&(zt=null),Lt!==null&&Ar(Lt)&&(Lt=null),Yn.forEach(Si),Zn.forEach(Si)}function er(e,t){e.blockedOn===t&&(e.blockedOn=null,il||(il=!0,P.unstable_scheduleCallback(P.unstable_NormalPriority,Eu)))}function tr(e){function t(l){return er(l,e)}if(0<$r.length){er($r[0],e);for(var n=1;n<$r.length;n++){var s=$r[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Rt!==null&&er(Rt,e),zt!==null&&er(zt,e),Lt!==null&&er(Lt,e),Yn.forEach(t),Zn.forEach(t),n=0;n<Ot.length;n++)s=Ot[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ot.length&&(n=Ot[0],n.blockedOn===null);)bi(n),n.blockedOn===null&&Ot.shift()}var vn=b.ReactCurrentBatchConfig,Ur=!0;function Du(e,t,n,s){var l=ge,a=vn.transition;vn.transition=null;try{ge=1,ol(e,t,n,s)}finally{ge=l,vn.transition=a}}function Pu(e,t,n,s){var l=ge,a=vn.transition;vn.transition=null;try{ge=4,ol(e,t,n,s)}finally{ge=l,vn.transition=a}}function ol(e,t,n,s){if(Ur){var l=cl(e,t,n,s);if(l===null)Cl(e,t,s,Br,n),ki(e,s);else if(Cu(l,e,t,n,s))s.stopPropagation();else if(ki(e,s),t&4&&-1<Su.indexOf(e)){for(;l!==null;){var a=mr(l);if(a!==null&&vi(a),a=cl(e,t,n,s),a===null&&Cl(e,t,s,Br,n),a===l)break;l=a}l!==null&&s.stopPropagation()}else Cl(e,t,s,null,n)}}var Br=null;function cl(e,t,n,s){if(Br=null,e=Ys(s),e=tn(e),e!==null)if(t=en(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ci(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Br=e,null}function Ci(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xu()){case nl:return 1;case pi:return 4;case zr:case gu:return 16;case xi:return 536870912;default:return 16}default:return 16}}var It=null,ul=null,Vr=null;function Ei(){if(Vr)return Vr;var e,t=ul,n=t.length,s,l="value"in It?It.value:It.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[a-s];s++);return Vr=l.slice(e,1<s?1-s:void 0)}function Hr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wr(){return!0}function Di(){return!1}function tt(e){function t(n,s,l,a,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wr:Di,this.isPropagationStopped=Di,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),t}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=tt(jn),nr=K({},jn,{view:0,detail:0}),_u=tt(nr),fl,ml,rr,Qr=K({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rr&&(rr&&e.type==="mousemove"?(fl=e.screenX-rr.screenX,ml=e.screenY-rr.screenY):ml=fl=0,rr=e),fl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),Pi=tt(Qr),Tu=K({},Qr,{dataTransfer:0}),Mu=tt(Tu),Ru=K({},nr,{relatedTarget:0}),hl=tt(Ru),zu=K({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=tt(zu),Ou=K({},jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iu=tt(Ou),Fu=K({},jn,{data:0}),_i=tt(Fu),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uu[e])?!!t[e]:!1}function pl(){return Bu}var Vu=K({},nr,{key:function(e){if(e.key){var t=$u[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pl,charCode:function(e){return e.type==="keypress"?Hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hu=tt(Vu),Wu=K({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ti=tt(Wu),Qu=K({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pl}),qu=tt(Qu),Ku=K({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gu=tt(Ku),Xu=K({},Qr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yu=tt(Xu),Zu=[9,13,27,32],xl=D&&"CompositionEvent"in window,sr=null;D&&"documentMode"in document&&(sr=document.documentMode);var Ju=D&&"TextEvent"in window&&!sr,Mi=D&&(!xl||sr&&8<sr&&11>=sr),Ri=" ",zi=!1;function Li(e,t){switch(e){case"keyup":return Zu.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wn=!1;function ed(e,t){switch(e){case"compositionend":return Oi(t);case"keypress":return t.which!==32?null:(zi=!0,Ri);case"textInput":return e=t.data,e===Ri&&zi?null:e;default:return null}}function td(e,t){if(wn)return e==="compositionend"||!xl&&Li(e,t)?(e=Ei(),Vr=ul=It=null,wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mi&&t.locale!=="ko"?null:t.data;default:return null}}var nd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ii(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nd[e.type]:t==="textarea"}function Fi(e,t,n,s){si(s),t=Yr(t,"onChange"),0<t.length&&(n=new dl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var lr=null,ar=null;function rd(e){no(e,0)}function qr(e){var t=Cn(e);if(bt(t))return e}function sd(e,t){if(e==="change")return t}var $i=!1;if(D){var gl;if(D){var yl="oninput"in document;if(!yl){var Ai=document.createElement("div");Ai.setAttribute("oninput","return;"),yl=typeof Ai.oninput=="function"}gl=yl}else gl=!1;$i=gl&&(!document.documentMode||9<document.documentMode)}function Ui(){lr&&(lr.detachEvent("onpropertychange",Bi),ar=lr=null)}function Bi(e){if(e.propertyName==="value"&&qr(ar)){var t=[];Fi(t,ar,e,Ys(e)),oi(rd,t)}}function ld(e,t,n){e==="focusin"?(Ui(),lr=t,ar=n,lr.attachEvent("onpropertychange",Bi)):e==="focusout"&&Ui()}function ad(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qr(ar)}function id(e,t){if(e==="click")return qr(t)}function od(e,t){if(e==="input"||e==="change")return qr(t)}function cd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:cd;function ir(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!v.call(t,l)||!mt(e[l],t[l]))return!1}return!0}function Vi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hi(e,t){var n=Vi(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vi(n)}}function Wi(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wi(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qi(){for(var e=window,t=_r();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_r(e.document)}return t}function vl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ud(e){var t=Qi(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wi(n.ownerDocument.documentElement,n)){if(s!==null&&vl(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=Hi(n,a);var i=Hi(n,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dd=D&&"documentMode"in document&&11>=document.documentMode,Nn=null,jl=null,or=null,wl=!1;function qi(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wl||Nn==null||Nn!==_r(s)||(s=Nn,"selectionStart"in s&&vl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),or&&ir(or,s)||(or=s,s=Yr(jl,"onSelect"),0<s.length&&(t=new dl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Nn)))}function Kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kn={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionend:Kr("Transition","TransitionEnd")},Nl={},Ki={};D&&(Ki=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function Gr(e){if(Nl[e])return Nl[e];if(!kn[e])return e;var t=kn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ki)return Nl[e]=t[n];return e}var Gi=Gr("animationend"),Xi=Gr("animationiteration"),Yi=Gr("animationstart"),Zi=Gr("transitionend"),Ji=new Map,eo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ft(e,t){Ji.set(e,t),u(t,[e])}for(var kl=0;kl<eo.length;kl++){var bl=eo[kl],fd=bl.toLowerCase(),md=bl[0].toUpperCase()+bl.slice(1);Ft(fd,"on"+md)}Ft(Gi,"onAnimationEnd"),Ft(Xi,"onAnimationIteration"),Ft(Yi,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(Zi,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hd=new Set("cancel close invalid load scroll toggle".split(" ").concat(cr));function to(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,fu(s,t,void 0,e),e.currentTarget=null}function no(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],c=o.instance,S=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;to(l,o,S),a=c}else for(i=0;i<s.length;i++){if(o=s[i],c=o.instance,S=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;to(l,o,S),a=c}}}if(Rr)throw e=tl,Rr=!1,tl=null,e}function Ne(e,t){var n=t[Ml];n===void 0&&(n=t[Ml]=new Set);var s=e+"__bubble";n.has(s)||(ro(t,e,2,!1),n.add(s))}function Sl(e,t,n){var s=0;t&&(s|=4),ro(n,e,s,t)}var Xr="_reactListening"+Math.random().toString(36).slice(2);function ur(e){if(!e[Xr]){e[Xr]=!0,M.forEach(function(n){n!=="selectionchange"&&(hd.has(n)||Sl(n,!1,e),Sl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xr]||(t[Xr]=!0,Sl("selectionchange",!1,t))}}function ro(e,t,n,s){switch(Ci(t)){case 1:var l=Du;break;case 4:l=Pu;break;default:l=ol}n=l.bind(null,t,n,e),l=void 0,!el||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Cl(e,t,n,s,l){var a=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=tn(o),i===null)return;if(c=i.tag,c===5||c===6){s=a=i;continue e}o=o.parentNode}}s=s.return}oi(function(){var S=a,L=Ys(n),I=[];e:{var z=Ji.get(e);if(z!==void 0){var q=dl,X=e;switch(e){case"keypress":if(Hr(n)===0)break e;case"keydown":case"keyup":q=Hu;break;case"focusin":X="focus",q=hl;break;case"focusout":X="blur",q=hl;break;case"beforeblur":case"afterblur":q=hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=qu;break;case Gi:case Xi:case Yi:q=Lu;break;case Zi:q=Gu;break;case"scroll":q=_u;break;case"wheel":q=Yu;break;case"copy":case"cut":case"paste":q=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ti}var Y=(t&4)!==0,_e=!Y&&e==="scroll",y=Y?z!==null?z+"Capture":null:z;Y=[];for(var m=S,N;m!==null;){N=m;var A=N.stateNode;if(N.tag===5&&A!==null&&(N=A,y!==null&&(A=Qn(m,y),A!=null&&Y.push(dr(m,A,N)))),_e)break;m=m.return}0<Y.length&&(z=new q(z,X,null,n,L),I.push({event:z,listeners:Y}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&n!==Xs&&(X=n.relatedTarget||n.fromElement)&&(tn(X)||X[St]))break e;if((q||z)&&(z=L.window===L?L:(z=L.ownerDocument)?z.defaultView||z.parentWindow:window,q?(X=n.relatedTarget||n.toElement,q=S,X=X?tn(X):null,X!==null&&(_e=en(X),X!==_e||X.tag!==5&&X.tag!==6)&&(X=null)):(q=null,X=S),q!==X)){if(Y=Pi,A="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(Y=Ti,A="onPointerLeave",y="onPointerEnter",m="pointer"),_e=q==null?z:Cn(q),N=X==null?z:Cn(X),z=new Y(A,m+"leave",q,n,L),z.target=_e,z.relatedTarget=N,A=null,tn(L)===S&&(Y=new Y(y,m+"enter",X,n,L),Y.target=N,Y.relatedTarget=_e,A=Y),_e=A,q&&X)t:{for(Y=q,y=X,m=0,N=Y;N;N=bn(N))m++;for(N=0,A=y;A;A=bn(A))N++;for(;0<m-N;)Y=bn(Y),m--;for(;0<N-m;)y=bn(y),N--;for(;m--;){if(Y===y||y!==null&&Y===y.alternate)break t;Y=bn(Y),y=bn(y)}Y=null}else Y=null;q!==null&&so(I,z,q,Y,!1),X!==null&&_e!==null&&so(I,_e,X,Y,!0)}}e:{if(z=S?Cn(S):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var J=sd;else if(Ii(z))if($i)J=od;else{J=ad;var ee=ld}else(q=z.nodeName)&&q.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(J=id);if(J&&(J=J(e,S))){Fi(I,J,n,L);break e}ee&&ee(e,z,S),e==="focusout"&&(ee=z._wrapperState)&&ee.controlled&&z.type==="number"&&Ws(z,"number",z.value)}switch(ee=S?Cn(S):window,e){case"focusin":(Ii(ee)||ee.contentEditable==="true")&&(Nn=ee,jl=S,or=null);break;case"focusout":or=jl=Nn=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,qi(I,n,L);break;case"selectionchange":if(dd)break;case"keydown":case"keyup":qi(I,n,L)}var te;if(xl)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else wn?Li(e,n)&&(re="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(re="onCompositionStart");re&&(Mi&&n.locale!=="ko"&&(wn||re!=="onCompositionStart"?re==="onCompositionEnd"&&wn&&(te=Ei()):(It=L,ul="value"in It?It.value:It.textContent,wn=!0)),ee=Yr(S,re),0<ee.length&&(re=new _i(re,e,null,n,L),I.push({event:re,listeners:ee}),te?re.data=te:(te=Oi(n),te!==null&&(re.data=te)))),(te=Ju?ed(e,n):td(e,n))&&(S=Yr(S,"onBeforeInput"),0<S.length&&(L=new _i("onBeforeInput","beforeinput",null,n,L),I.push({event:L,listeners:S}),L.data=te))}no(I,t)})}function dr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Qn(e,n),a!=null&&s.unshift(dr(e,a,l)),a=Qn(e,t),a!=null&&s.push(dr(e,a,l))),e=e.return}return s}function bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function so(e,t,n,s,l){for(var a=t._reactName,i=[];n!==null&&n!==s;){var o=n,c=o.alternate,S=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&S!==null&&(o=S,l?(c=Qn(n,a),c!=null&&i.unshift(dr(n,c,o))):l||(c=Qn(n,a),c!=null&&i.push(dr(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var pd=/\r\n?/g,xd=/\u0000|\uFFFD/g;function lo(e){return(typeof e=="string"?e:""+e).replace(pd,`
`).replace(xd,"")}function Zr(e,t,n){if(t=lo(t),lo(e)!==t&&n)throw Error(d(425))}function Jr(){}var El=null,Dl=null;function Pl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _l=typeof setTimeout=="function"?setTimeout:void 0,gd=typeof clearTimeout=="function"?clearTimeout:void 0,ao=typeof Promise=="function"?Promise:void 0,yd=typeof queueMicrotask=="function"?queueMicrotask:typeof ao<"u"?function(e){return ao.resolve(null).then(e).catch(vd)}:_l;function vd(e){setTimeout(function(){throw e})}function Tl(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),tr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);tr(t)}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function io(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),jt="__reactFiber$"+Sn,fr="__reactProps$"+Sn,St="__reactContainer$"+Sn,Ml="__reactEvents$"+Sn,jd="__reactListeners$"+Sn,wd="__reactHandles$"+Sn;function tn(e){var t=e[jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[St]||n[jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=io(e);e!==null;){if(n=e[jt])return n;e=io(e)}return t}e=n,n=e.parentNode}return null}function mr(e){return e=e[jt]||e[St],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(d(33))}function es(e){return e[fr]||null}var Rl=[],En=-1;function At(e){return{current:e}}function ke(e){0>En||(e.current=Rl[En],Rl[En]=null,En--)}function ve(e,t){En++,Rl[En]=e.current,e.current=t}var Ut={},Be=At(Ut),Ge=At(!1),nn=Ut;function Dn(e,t){var n=e.type.contextTypes;if(!n)return Ut;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Xe(e){return e=e.childContextTypes,e!=null}function ts(){ke(Ge),ke(Be)}function oo(e,t,n){if(Be.current!==Ut)throw Error(d(168));ve(Be,t),ve(Ge,n)}function co(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(d(108,xe(e)||"Unknown",l));return K({},n,s)}function ns(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ut,nn=Be.current,ve(Be,e),ve(Ge,Ge.current),!0}function uo(e,t,n){var s=e.stateNode;if(!s)throw Error(d(169));n?(e=co(e,t,nn),s.__reactInternalMemoizedMergedChildContext=e,ke(Ge),ke(Be),ve(Be,e)):ke(Ge),ve(Ge,n)}var Ct=null,rs=!1,zl=!1;function fo(e){Ct===null?Ct=[e]:Ct.push(e)}function Nd(e){rs=!0,fo(e)}function Bt(){if(!zl&&Ct!==null){zl=!0;var e=0,t=ge;try{var n=Ct;for(ge=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Ct=null,rs=!1}catch(l){throw Ct!==null&&(Ct=Ct.slice(e+1)),mi(nl,Bt),l}finally{ge=t,zl=!1}}return null}var Pn=[],_n=0,ss=null,ls=0,at=[],it=0,rn=null,Et=1,Dt="";function sn(e,t){Pn[_n++]=ls,Pn[_n++]=ss,ss=e,ls=t}function mo(e,t,n){at[it++]=Et,at[it++]=Dt,at[it++]=rn,rn=e;var s=Et;e=Dt;var l=32-ft(s)-1;s&=~(1<<l),n+=1;var a=32-ft(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,Et=1<<32-ft(t)+l|n<<l|s,Dt=a+e}else Et=1<<a|n<<l|s,Dt=e}function Ll(e){e.return!==null&&(sn(e,1),mo(e,1,0))}function Ol(e){for(;e===ss;)ss=Pn[--_n],Pn[_n]=null,ls=Pn[--_n],Pn[_n]=null;for(;e===rn;)rn=at[--it],at[it]=null,Dt=at[--it],at[it]=null,Et=at[--it],at[it]=null}var nt=null,rt=null,Se=!1,ht=null;function ho(e,t){var n=dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function po(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nt=e,rt=$t(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nt=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rn!==null?{id:Et,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nt=e,rt=null,!0):!1;default:return!1}}function Il(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fl(e){if(Se){var t=rt;if(t){var n=t;if(!po(e,t)){if(Il(e))throw Error(d(418));t=$t(n.nextSibling);var s=nt;t&&po(e,t)?ho(s,n):(e.flags=e.flags&-4097|2,Se=!1,nt=e)}}else{if(Il(e))throw Error(d(418));e.flags=e.flags&-4097|2,Se=!1,nt=e}}}function xo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nt=e}function as(e){if(e!==nt)return!1;if(!Se)return xo(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pl(e.type,e.memoizedProps)),t&&(t=rt)){if(Il(e))throw go(),Error(d(418));for(;t;)ho(e,t),t=$t(t.nextSibling)}if(xo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=$t(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=nt?$t(e.stateNode.nextSibling):null;return!0}function go(){for(var e=rt;e;)e=$t(e.nextSibling)}function Tn(){rt=nt=null,Se=!1}function $l(e){ht===null?ht=[e]:ht.push(e)}var kd=b.ReactCurrentBatchConfig;function hr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(d(309));var s=n.stateNode}if(!s)throw Error(d(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(d(284));if(!n._owner)throw Error(d(290,e))}return e}function is(e,t){throw e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yo(e){var t=e._init;return t(e._payload)}function vo(e){function t(y,m){if(e){var N=y.deletions;N===null?(y.deletions=[m],y.flags|=16):N.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function s(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function l(y,m){return y=Xt(y,m),y.index=0,y.sibling=null,y}function a(y,m,N){return y.index=N,e?(N=y.alternate,N!==null?(N=N.index,N<m?(y.flags|=2,m):N):(y.flags|=2,m)):(y.flags|=1048576,m)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,m,N,A){return m===null||m.tag!==6?(m=_a(N,y.mode,A),m.return=y,m):(m=l(m,N),m.return=y,m)}function c(y,m,N,A){var J=N.type;return J===B?L(y,m,N.props.children,A,N.key):m!==null&&(m.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Ue&&yo(J)===m.type)?(A=l(m,N.props),A.ref=hr(y,m,N),A.return=y,A):(A=Ts(N.type,N.key,N.props,null,y.mode,A),A.ref=hr(y,m,N),A.return=y,A)}function S(y,m,N,A){return m===null||m.tag!==4||m.stateNode.containerInfo!==N.containerInfo||m.stateNode.implementation!==N.implementation?(m=Ta(N,y.mode,A),m.return=y,m):(m=l(m,N.children||[]),m.return=y,m)}function L(y,m,N,A,J){return m===null||m.tag!==7?(m=mn(N,y.mode,A,J),m.return=y,m):(m=l(m,N),m.return=y,m)}function I(y,m,N){if(typeof m=="string"&&m!==""||typeof m=="number")return m=_a(""+m,y.mode,N),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case U:return N=Ts(m.type,m.key,m.props,null,y.mode,N),N.ref=hr(y,null,m),N.return=y,N;case V:return m=Ta(m,y.mode,N),m.return=y,m;case Ue:var A=m._init;return I(y,A(m._payload),N)}if(Vn(m)||ne(m))return m=mn(m,y.mode,N,null),m.return=y,m;is(y,m)}return null}function z(y,m,N,A){var J=m!==null?m.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return J!==null?null:o(y,m,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case U:return N.key===J?c(y,m,N,A):null;case V:return N.key===J?S(y,m,N,A):null;case Ue:return J=N._init,z(y,m,J(N._payload),A)}if(Vn(N)||ne(N))return J!==null?null:L(y,m,N,A,null);is(y,N)}return null}function q(y,m,N,A,J){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(N)||null,o(m,y,""+A,J);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case U:return y=y.get(A.key===null?N:A.key)||null,c(m,y,A,J);case V:return y=y.get(A.key===null?N:A.key)||null,S(m,y,A,J);case Ue:var ee=A._init;return q(y,m,N,ee(A._payload),J)}if(Vn(A)||ne(A))return y=y.get(N)||null,L(m,y,A,J,null);is(m,A)}return null}function X(y,m,N,A){for(var J=null,ee=null,te=m,re=m=0,Ie=null;te!==null&&re<N.length;re++){te.index>re?(Ie=te,te=null):Ie=te.sibling;var fe=z(y,te,N[re],A);if(fe===null){te===null&&(te=Ie);break}e&&te&&fe.alternate===null&&t(y,te),m=a(fe,m,re),ee===null?J=fe:ee.sibling=fe,ee=fe,te=Ie}if(re===N.length)return n(y,te),Se&&sn(y,re),J;if(te===null){for(;re<N.length;re++)te=I(y,N[re],A),te!==null&&(m=a(te,m,re),ee===null?J=te:ee.sibling=te,ee=te);return Se&&sn(y,re),J}for(te=s(y,te);re<N.length;re++)Ie=q(te,y,re,N[re],A),Ie!==null&&(e&&Ie.alternate!==null&&te.delete(Ie.key===null?re:Ie.key),m=a(Ie,m,re),ee===null?J=Ie:ee.sibling=Ie,ee=Ie);return e&&te.forEach(function(Yt){return t(y,Yt)}),Se&&sn(y,re),J}function Y(y,m,N,A){var J=ne(N);if(typeof J!="function")throw Error(d(150));if(N=J.call(N),N==null)throw Error(d(151));for(var ee=J=null,te=m,re=m=0,Ie=null,fe=N.next();te!==null&&!fe.done;re++,fe=N.next()){te.index>re?(Ie=te,te=null):Ie=te.sibling;var Yt=z(y,te,fe.value,A);if(Yt===null){te===null&&(te=Ie);break}e&&te&&Yt.alternate===null&&t(y,te),m=a(Yt,m,re),ee===null?J=Yt:ee.sibling=Yt,ee=Yt,te=Ie}if(fe.done)return n(y,te),Se&&sn(y,re),J;if(te===null){for(;!fe.done;re++,fe=N.next())fe=I(y,fe.value,A),fe!==null&&(m=a(fe,m,re),ee===null?J=fe:ee.sibling=fe,ee=fe);return Se&&sn(y,re),J}for(te=s(y,te);!fe.done;re++,fe=N.next())fe=q(te,y,re,fe.value,A),fe!==null&&(e&&fe.alternate!==null&&te.delete(fe.key===null?re:fe.key),m=a(fe,m,re),ee===null?J=fe:ee.sibling=fe,ee=fe);return e&&te.forEach(function(nf){return t(y,nf)}),Se&&sn(y,re),J}function _e(y,m,N,A){if(typeof N=="object"&&N!==null&&N.type===B&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case U:e:{for(var J=N.key,ee=m;ee!==null;){if(ee.key===J){if(J=N.type,J===B){if(ee.tag===7){n(y,ee.sibling),m=l(ee,N.props.children),m.return=y,y=m;break e}}else if(ee.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Ue&&yo(J)===ee.type){n(y,ee.sibling),m=l(ee,N.props),m.ref=hr(y,ee,N),m.return=y,y=m;break e}n(y,ee);break}else t(y,ee);ee=ee.sibling}N.type===B?(m=mn(N.props.children,y.mode,A,N.key),m.return=y,y=m):(A=Ts(N.type,N.key,N.props,null,y.mode,A),A.ref=hr(y,m,N),A.return=y,y=A)}return i(y);case V:e:{for(ee=N.key;m!==null;){if(m.key===ee)if(m.tag===4&&m.stateNode.containerInfo===N.containerInfo&&m.stateNode.implementation===N.implementation){n(y,m.sibling),m=l(m,N.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=Ta(N,y.mode,A),m.return=y,y=m}return i(y);case Ue:return ee=N._init,_e(y,m,ee(N._payload),A)}if(Vn(N))return X(y,m,N,A);if(ne(N))return Y(y,m,N,A);is(y,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,m!==null&&m.tag===6?(n(y,m.sibling),m=l(m,N),m.return=y,y=m):(n(y,m),m=_a(N,y.mode,A),m.return=y,y=m),i(y)):n(y,m)}return _e}var Mn=vo(!0),jo=vo(!1),os=At(null),cs=null,Rn=null,Al=null;function Ul(){Al=Rn=cs=null}function Bl(e){var t=os.current;ke(os),e._currentValue=t}function Vl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function zn(e,t){cs=e,Al=Rn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ye=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(Al!==e)if(e={context:e,memoizedValue:t,next:null},Rn===null){if(cs===null)throw Error(d(308));Rn=e,cs.dependencies={lanes:0,firstContext:e}}else Rn=Rn.next=e;return t}var ln=null;function Hl(e){ln===null?ln=[e]:ln.push(e)}function wo(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,Hl(t)):(n.next=l.next,l.next=n),t.interleaved=n,Pt(e,s)}function Pt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vt=!1;function Wl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ht(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(de&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Pt(e,n)}return l=s.interleaved,l===null?(t.next=t,Hl(s)):(t.next=l.next,l.next=t),s.interleaved=t,Pt(e,n)}function us(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,ll(e,n)}}function ko(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ds(e,t,n,s){var l=e.updateQueue;Vt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,S=c.next;c.next=null,i===null?a=S:i.next=S,i=c;var L=e.alternate;L!==null&&(L=L.updateQueue,o=L.lastBaseUpdate,o!==i&&(o===null?L.firstBaseUpdate=S:o.next=S,L.lastBaseUpdate=c))}if(a!==null){var I=l.baseState;i=0,L=S=c=null,o=a;do{var z=o.lane,q=o.eventTime;if((s&z)===z){L!==null&&(L=L.next={eventTime:q,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var X=e,Y=o;switch(z=t,q=n,Y.tag){case 1:if(X=Y.payload,typeof X=="function"){I=X.call(q,I,z);break e}I=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=Y.payload,z=typeof X=="function"?X.call(q,I,z):X,z==null)break e;I=K({},I,z);break e;case 2:Vt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,z=l.effects,z===null?l.effects=[o]:z.push(o))}else q={eventTime:q,lane:z,tag:o.tag,payload:o.payload,callback:o.callback,next:null},L===null?(S=L=q,c=I):L=L.next=q,i|=z;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;z=o,o=z.next,z.next=null,l.lastBaseUpdate=z,l.shared.pending=null}}while(!0);if(L===null&&(c=I),l.baseState=c,l.firstBaseUpdate=S,l.lastBaseUpdate=L,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);cn|=i,e.lanes=i,e.memoizedState=I}}function bo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(d(191,l));l.call(s)}}}var pr={},wt=At(pr),xr=At(pr),gr=At(pr);function an(e){if(e===pr)throw Error(d(174));return e}function Ql(e,t){switch(ve(gr,t),ve(xr,e),ve(wt,pr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qs(t,e)}ke(wt),ve(wt,t)}function Ln(){ke(wt),ke(xr),ke(gr)}function So(e){an(gr.current);var t=an(wt.current),n=qs(t,e.type);t!==n&&(ve(xr,e),ve(wt,n))}function ql(e){xr.current===e&&(ke(wt),ke(xr))}var Ce=At(0);function fs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kl=[];function Gl(){for(var e=0;e<Kl.length;e++)Kl[e]._workInProgressVersionPrimary=null;Kl.length=0}var ms=b.ReactCurrentDispatcher,Xl=b.ReactCurrentBatchConfig,on=0,Ee=null,Re=null,Le=null,hs=!1,yr=!1,vr=0,bd=0;function Ve(){throw Error(d(321))}function Yl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mt(e[n],t[n]))return!1;return!0}function Zl(e,t,n,s,l,a){if(on=a,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ms.current=e===null||e.memoizedState===null?Dd:Pd,e=n(s,l),yr){a=0;do{if(yr=!1,vr=0,25<=a)throw Error(d(301));a+=1,Le=Re=null,t.updateQueue=null,ms.current=_d,e=n(s,l)}while(yr)}if(ms.current=gs,t=Re!==null&&Re.next!==null,on=0,Le=Re=Ee=null,hs=!1,t)throw Error(d(300));return e}function Jl(){var e=vr!==0;return vr=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Ee.memoizedState=Le=e:Le=Le.next=e,Le}function ct(){if(Re===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Le===null?Ee.memoizedState:Le.next;if(t!==null)Le=t,Re=e;else{if(e===null)throw Error(d(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Le===null?Ee.memoizedState=Le=e:Le=Le.next=e}return Le}function jr(e,t){return typeof t=="function"?t(e):t}function ea(e){var t=ct(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var s=Re,l=s.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,s=s.baseState;var o=i=null,c=null,S=a;do{var L=S.lane;if((on&L)===L)c!==null&&(c=c.next={lane:0,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),s=S.hasEagerState?S.eagerState:e(s,S.action);else{var I={lane:L,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null};c===null?(o=c=I,i=s):c=c.next=I,Ee.lanes|=L,cn|=L}S=S.next}while(S!==null&&S!==a);c===null?i=s:c.next=o,mt(s,t.memoizedState)||(Ye=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do a=l.lane,Ee.lanes|=a,cn|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ta(e){var t=ct(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);mt(a,t.memoizedState)||(Ye=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Co(){}function Eo(e,t){var n=Ee,s=ct(),l=t(),a=!mt(s.memoizedState,l);if(a&&(s.memoizedState=l,Ye=!0),s=s.queue,na(_o.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,wr(9,Po.bind(null,n,s,l,t),void 0,null),Oe===null)throw Error(d(349));(on&30)!==0||Do(n,t,l)}return l}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Po(e,t,n,s){t.value=n,t.getSnapshot=s,To(t)&&Mo(e)}function _o(e,t,n){return n(function(){To(t)&&Mo(e)})}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mt(e,n)}catch{return!0}}function Mo(e){var t=Pt(e,1);t!==null&&yt(t,e,1,-1)}function Ro(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:e},t.queue=e,e=e.dispatch=Ed.bind(null,Ee,e),[t.memoizedState,e]}function wr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function zo(){return ct().memoizedState}function ps(e,t,n,s){var l=Nt();Ee.flags|=e,l.memoizedState=wr(1|t,n,void 0,s===void 0?null:s)}function xs(e,t,n,s){var l=ct();s=s===void 0?null:s;var a=void 0;if(Re!==null){var i=Re.memoizedState;if(a=i.destroy,s!==null&&Yl(s,i.deps)){l.memoizedState=wr(t,n,a,s);return}}Ee.flags|=e,l.memoizedState=wr(1|t,n,a,s)}function Lo(e,t){return ps(8390656,8,e,t)}function na(e,t){return xs(2048,8,e,t)}function Oo(e,t){return xs(4,2,e,t)}function Io(e,t){return xs(4,4,e,t)}function Fo(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $o(e,t,n){return n=n!=null?n.concat([e]):null,xs(4,4,Fo.bind(null,t,e),n)}function ra(){}function Ao(e,t){var n=ct();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Yl(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Uo(e,t){var n=ct();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Yl(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Bo(e,t,n){return(on&21)===0?(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=n):(mt(n,t)||(n=gi(),Ee.lanes|=n,cn|=n,e.baseState=!0),t)}function Sd(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var s=Xl.transition;Xl.transition={};try{e(!1),t()}finally{ge=n,Xl.transition=s}}function Vo(){return ct().memoizedState}function Cd(e,t,n){var s=Kt(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Ho(e))Wo(t,n);else if(n=wo(e,t,n,s),n!==null){var l=qe();yt(n,e,s,l),Qo(n,t,s)}}function Ed(e,t,n){var s=Kt(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))Wo(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,mt(o,i)){var c=t.interleaved;c===null?(l.next=l,Hl(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=wo(e,t,l,s),n!==null&&(l=qe(),yt(n,e,s,l),Qo(n,t,s))}}function Ho(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Wo(e,t){yr=hs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qo(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,ll(e,n)}}var gs={readContext:ot,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},Dd={readContext:ot,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ps(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return ps(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Nt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Cd.bind(null,Ee,e),[s.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:Ro,useDebugValue:ra,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=Ro(!1),t=e[0];return e=Sd.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Ee,l=Nt();if(Se){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),Oe===null)throw Error(d(349));(on&30)!==0||Do(s,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Lo(_o.bind(null,s,a,e),[e]),s.flags|=2048,wr(9,Po.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Nt(),t=Oe.identifierPrefix;if(Se){var n=Dt,s=Et;n=(s&~(1<<32-ft(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=vr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pd={readContext:ot,useCallback:Ao,useContext:ot,useEffect:na,useImperativeHandle:$o,useInsertionEffect:Oo,useLayoutEffect:Io,useMemo:Uo,useReducer:ea,useRef:zo,useState:function(){return ea(jr)},useDebugValue:ra,useDeferredValue:function(e){var t=ct();return Bo(t,Re.memoizedState,e)},useTransition:function(){var e=ea(jr)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Co,useSyncExternalStore:Eo,useId:Vo,unstable_isNewReconciler:!1},_d={readContext:ot,useCallback:Ao,useContext:ot,useEffect:na,useImperativeHandle:$o,useInsertionEffect:Oo,useLayoutEffect:Io,useMemo:Uo,useReducer:ta,useRef:zo,useState:function(){return ta(jr)},useDebugValue:ra,useDeferredValue:function(e){var t=ct();return Re===null?t.memoizedState=e:Bo(t,Re.memoizedState,e)},useTransition:function(){var e=ta(jr)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Co,useSyncExternalStore:Eo,useId:Vo,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=K({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sa(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:K({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ys={isMounted:function(e){return(e=e._reactInternals)?en(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=qe(),l=Kt(e),a=_t(s,l);a.payload=t,n!=null&&(a.callback=n),t=Ht(e,a,l),t!==null&&(yt(t,e,l,s),us(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=qe(),l=Kt(e),a=_t(s,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ht(e,a,l),t!==null&&(yt(t,e,l,s),us(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qe(),s=Kt(e),l=_t(n,s);l.tag=2,t!=null&&(l.callback=t),t=Ht(e,l,s),t!==null&&(yt(t,e,s,n),us(t,e,s))}};function qo(e,t,n,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!ir(n,s)||!ir(l,a):!0}function Ko(e,t,n){var s=!1,l=Ut,a=t.contextType;return typeof a=="object"&&a!==null?a=ot(a):(l=Xe(t)?nn:Be.current,s=t.contextTypes,a=(s=s!=null)?Dn(e,l):Ut),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ys,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Go(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ys.enqueueReplaceState(t,t.state,null)}function la(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Wl(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=ot(a):(a=Xe(t)?nn:Be.current,l.context=Dn(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(sa(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ys.enqueueReplaceState(l,l.state,null),ds(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function On(e,t){try{var n="",s=t;do n+=ce(s),s=s.return;while(s);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function aa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ia(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Td=typeof WeakMap=="function"?WeakMap:Map;function Xo(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Ss||(Ss=!0,Na=s),ia(e,t)},n}function Yo(e,t,n){n=_t(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){ia(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ia(e,t),typeof s!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Zo(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Td;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Wd.bind(null,e,t,n),t.then(e,e))}function Jo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ec(e,t,n,s,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,Ht(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Md=b.ReactCurrentOwner,Ye=!1;function Qe(e,t,n,s){t.child=e===null?jo(t,null,n,s):Mn(t,e.child,n,s)}function tc(e,t,n,s,l){n=n.render;var a=t.ref;return zn(t,l),s=Zl(e,t,n,s,a,l),n=Jl(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Tt(e,t,l)):(Se&&n&&Ll(t),t.flags|=1,Qe(e,t,s,l),t.child)}function nc(e,t,n,s,l){if(e===null){var a=n.type;return typeof a=="function"&&!Pa(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,rc(e,t,a,s,l)):(e=Ts(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&l)===0){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:ir,n(i,s)&&e.ref===t.ref)return Tt(e,t,l)}return t.flags|=1,e=Xt(a,s),e.ref=t.ref,e.return=t,t.child=e}function rc(e,t,n,s,l){if(e!==null){var a=e.memoizedProps;if(ir(a,s)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=s=a,(e.lanes&l)!==0)(e.flags&131072)!==0&&(Ye=!0);else return t.lanes=e.lanes,Tt(e,t,l)}return oa(e,t,n,s,l)}function sc(e,t,n){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Fn,st),st|=n;else{if((n&1073741824)===0)return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(Fn,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,ve(Fn,st),st|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,ve(Fn,st),st|=s;return Qe(e,t,l,n),t.child}function lc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oa(e,t,n,s,l){var a=Xe(n)?nn:Be.current;return a=Dn(t,a),zn(t,l),n=Zl(e,t,n,s,a,l),s=Jl(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Tt(e,t,l)):(Se&&s&&Ll(t),t.flags|=1,Qe(e,t,n,l),t.child)}function ac(e,t,n,s,l){if(Xe(n)){var a=!0;ns(t)}else a=!1;if(zn(t,l),t.stateNode===null)js(e,t),Ko(t,n,s),la(t,n,s,l),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,S=n.contextType;typeof S=="object"&&S!==null?S=ot(S):(S=Xe(n)?nn:Be.current,S=Dn(t,S));var L=n.getDerivedStateFromProps,I=typeof L=="function"||typeof i.getSnapshotBeforeUpdate=="function";I||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||c!==S)&&Go(t,i,s,S),Vt=!1;var z=t.memoizedState;i.state=z,ds(t,s,i,l),c=t.memoizedState,o!==s||z!==c||Ge.current||Vt?(typeof L=="function"&&(sa(t,n,L,s),c=t.memoizedState),(o=Vt||qo(t,n,o,s,z,c,S))?(I||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),i.props=s,i.state=c,i.context=S,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,No(e,t),o=t.memoizedProps,S=t.type===t.elementType?o:pt(t.type,o),i.props=S,I=t.pendingProps,z=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=ot(c):(c=Xe(n)?nn:Be.current,c=Dn(t,c));var q=n.getDerivedStateFromProps;(L=typeof q=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==I||z!==c)&&Go(t,i,s,c),Vt=!1,z=t.memoizedState,i.state=z,ds(t,s,i,l);var X=t.memoizedState;o!==I||z!==X||Ge.current||Vt?(typeof q=="function"&&(sa(t,n,q,s),X=t.memoizedState),(S=Vt||qo(t,n,S,s,z,X,c)||!1)?(L||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,X,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,X,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=X),i.props=s,i.state=X,i.context=c,s=S):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),s=!1)}return ca(e,t,n,s,a,l)}function ca(e,t,n,s,l,a){lc(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&uo(t,n,!1),Tt(e,t,a);s=t.stateNode,Md.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Mn(t,e.child,null,a),t.child=Mn(t,null,o,a)):Qe(e,t,o,a),t.memoizedState=s.state,l&&uo(t,n,!0),t.child}function ic(e){var t=e.stateNode;t.pendingContext?oo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&oo(e,t.context,!1),Ql(e,t.containerInfo)}function oc(e,t,n,s,l){return Tn(),$l(l),t.flags|=256,Qe(e,t,n,s),t.child}var ua={dehydrated:null,treeContext:null,retryLane:0};function da(e){return{baseLanes:e,cachePool:null,transitions:null}}function cc(e,t,n){var s=t.pendingProps,l=Ce.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ve(Ce,l&1),e===null)return Fl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},(s&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Ms(i,s,0,null),e=mn(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=da(n),t.memoizedState=ua,e):fa(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return Rd(e,t,i,s,o,l,n);if(a){a=s.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:s.children};return(i&1)===0&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Xt(l,c),s.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=Xt(o,a):(a=mn(a,i,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?da(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=ua,s}return a=e.child,e=a.sibling,s=Xt(a,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function fa(e,t){return t=Ms({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vs(e,t,n,s){return s!==null&&$l(s),Mn(t,e.child,null,n),e=fa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rd(e,t,n,s,l,a,i){if(n)return t.flags&256?(t.flags&=-257,s=aa(Error(d(422))),vs(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=Ms({mode:"visible",children:s.children},l,0,null),a=mn(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,(t.mode&1)!==0&&Mn(t,e.child,null,i),t.child.memoizedState=da(i),t.memoizedState=ua,a);if((t.mode&1)===0)return vs(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var o=s.dgst;return s=o,a=Error(d(419)),s=aa(a,s,void 0),vs(e,t,i,s)}if(o=(i&e.childLanes)!==0,Ye||o){if(s=Oe,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(s.suspendedLanes|i))!==0?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Pt(e,l),yt(s,e,l,-1))}return Da(),s=aa(Error(d(421))),vs(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Qd.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,rt=$t(l.nextSibling),nt=t,Se=!0,ht=null,e!==null&&(at[it++]=Et,at[it++]=Dt,at[it++]=rn,Et=e.id,Dt=e.overflow,rn=t),t=fa(t,s.children),t.flags|=4096,t)}function uc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Vl(e.return,t,n)}function ma(e,t,n,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=l)}function dc(e,t,n){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(Qe(e,t,s.children,n),s=Ce.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uc(e,n,t);else if(e.tag===19)uc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ve(Ce,s),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&fs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ma(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&fs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ma(t,!0,n,null,a);break;case"together":ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function js(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),cn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=Xt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zd(e,t,n){switch(t.tag){case 3:ic(t),Tn();break;case 5:So(t);break;case 1:Xe(t.type)&&ns(t);break;case 4:Ql(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;ve(os,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ve(Ce,Ce.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?cc(e,t,n):(ve(Ce,Ce.current&1),e=Tt(e,t,n),e!==null?e.sibling:null);ve(Ce,Ce.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return dc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ve(Ce,Ce.current),s)break;return null;case 22:case 23:return t.lanes=0,sc(e,t,n)}return Tt(e,t,n)}var fc,ha,mc,hc;fc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ha=function(){},mc=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,an(wt.current);var a=null;switch(n){case"input":l=Vs(e,l),s=Vs(e,s),a=[];break;case"select":l=K({},l,{value:void 0}),s=K({},s,{value:void 0}),a=[];break;case"textarea":l=Qs(e,l),s=Qs(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Jr)}Ks(n,s);var i;n=null;for(S in l)if(!s.hasOwnProperty(S)&&l.hasOwnProperty(S)&&l[S]!=null)if(S==="style"){var o=l[S];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else S!=="dangerouslySetInnerHTML"&&S!=="children"&&S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(k.hasOwnProperty(S)?a||(a=[]):(a=a||[]).push(S,null));for(S in s){var c=s[S];if(o=l?.[S],s.hasOwnProperty(S)&&c!==o&&(c!=null||o!=null))if(S==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(S,n)),n=c;else S==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(S,c)):S==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(S,""+c):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&(k.hasOwnProperty(S)?(c!=null&&S==="onScroll"&&Ne("scroll",e),a||o===c||(a=[])):(a=a||[]).push(S,c))}n&&(a=a||[]).push("style",n);var S=a;(t.updateQueue=S)&&(t.flags|=4)}},hc=function(e,t,n,s){n!==s&&(t.flags|=4)};function Nr(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Ld(e,t,n){var s=t.pendingProps;switch(Ol(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return Xe(t.type)&&ts(),He(t),null;case 3:return s=t.stateNode,Ln(),ke(Ge),ke(Be),Gl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(as(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ht!==null&&(Sa(ht),ht=null))),ha(e,t),He(t),null;case 5:ql(t);var l=an(gr.current);if(n=t.type,e!==null&&t.stateNode!=null)mc(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(d(166));return He(t),null}if(e=an(wt.current),as(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[jt]=t,s[fr]=a,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":case"embed":Ne("load",s);break;case"video":case"audio":for(l=0;l<cr.length;l++)Ne(cr[l],s);break;case"source":Ne("error",s);break;case"img":case"image":case"link":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"input":qa(s,a),Ne("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Ne("invalid",s);break;case"textarea":Xa(s,a),Ne("invalid",s)}Ks(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?s.textContent!==o&&(a.suppressHydrationWarning!==!0&&Zr(s.textContent,o,e),l=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Zr(s.textContent,o,e),l=["children",""+o]):k.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Ne("scroll",s)}switch(n){case"input":Ke(s),Ga(s,a,!0);break;case"textarea":Ke(s),Za(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Jr)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ja(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[jt]=t,e[fr]=s,fc(e,t,!1,!1),t.stateNode=e;e:{switch(i=Gs(n,s),n){case"dialog":Ne("cancel",e),Ne("close",e),l=s;break;case"iframe":case"object":case"embed":Ne("load",e),l=s;break;case"video":case"audio":for(l=0;l<cr.length;l++)Ne(cr[l],e);l=s;break;case"source":Ne("error",e),l=s;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),l=s;break;case"details":Ne("toggle",e),l=s;break;case"input":qa(e,s),l=Vs(e,s),Ne("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=K({},s,{value:void 0}),Ne("invalid",e);break;case"textarea":Xa(e,s),l=Qs(e,s),Ne("invalid",e);break;default:l=s}Ks(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?ni(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ei(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Hn(e,c):typeof c=="number"&&Hn(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(k.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ne("scroll",e):c!=null&&C(e,a,c,i))}switch(n){case"input":Ke(e),Ga(e,s,!1);break;case"textarea":Ke(e),Za(e);break;case"option":s.value!=null&&e.setAttribute("value",""+me(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?xn(e,!!s.multiple,a,!1):s.defaultValue!=null&&xn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)hc(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(d(166));if(n=an(gr.current),an(wt.current),as(t)){if(s=t.stateNode,n=t.memoizedProps,s[jt]=t,(a=s.nodeValue!==n)&&(e=nt,e!==null))switch(e.tag){case 3:Zr(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zr(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[jt]=t,t.stateNode=s}return He(t),null;case 13:if(ke(Ce),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&rt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)go(),Tn(),t.flags|=98560,a=!1;else if(a=as(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(d(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(d(317));a[jt]=t}else Tn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),a=!1}else ht!==null&&(Sa(ht),ht=null),a=!0;if(!a)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ce.current&1)!==0?ze===0&&(ze=3):Da())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Ln(),ha(e,t),e===null&&ur(t.stateNode.containerInfo),He(t),null;case 10:return Bl(t.type._context),He(t),null;case 17:return Xe(t.type)&&ts(),He(t),null;case 19:if(ke(Ce),a=t.memoizedState,a===null)return He(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)Nr(a,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=fs(e),i!==null){for(t.flags|=128,Nr(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ve(Ce,Ce.current&1|2),t.child}e=e.sibling}a.tail!==null&&Pe()>$n&&(t.flags|=128,s=!0,Nr(a,!1),t.lanes=4194304)}else{if(!s)if(e=fs(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Nr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Se)return He(t),null}else 2*Pe()-a.renderingStartTime>$n&&n!==1073741824&&(t.flags|=128,s=!0,Nr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Pe(),t.sibling=null,n=Ce.current,ve(Ce,s?n&1|2:n&1),t):(He(t),null);case 22:case 23:return Ea(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(st&1073741824)!==0&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(d(156,t.tag))}function Od(e,t){switch(Ol(t),t.tag){case 1:return Xe(t.type)&&ts(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(),ke(Ge),ke(Be),Gl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ql(t),null;case 13:if(ke(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));Tn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ce),null;case 4:return Ln(),null;case 10:return Bl(t.type._context),null;case 22:case 23:return Ea(),null;case 24:return null;default:return null}}var ws=!1,We=!1,Id=typeof WeakSet=="function"?WeakSet:Set,G=null;function In(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){De(e,t,s)}else n.current=null}function pa(e,t,n){try{n()}catch(s){De(e,t,s)}}var pc=!1;function Fd(e,t){if(El=Ur,e=Qi(),vl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,S=0,L=0,I=e,z=null;t:for(;;){for(var q;I!==n||l!==0&&I.nodeType!==3||(o=i+l),I!==a||s!==0&&I.nodeType!==3||(c=i+s),I.nodeType===3&&(i+=I.nodeValue.length),(q=I.firstChild)!==null;)z=I,I=q;for(;;){if(I===e)break t;if(z===n&&++S===l&&(o=i),z===a&&++L===s&&(c=i),(q=I.nextSibling)!==null)break;I=z,z=I.parentNode}I=q}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dl={focusedElem:e,selectionRange:n},Ur=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var X=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var Y=X.memoizedProps,_e=X.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?Y:pt(t.type,Y),_e);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(d(163))}}catch(A){De(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return X=pc,pc=!1,X}function kr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&pa(t,n,a)}l=l.next}while(l!==s)}}function Ns(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function xa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xc(e){var t=e.alternate;t!==null&&(e.alternate=null,xc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[fr],delete t[Ml],delete t[jd],delete t[wd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gc(e){return e.tag===5||e.tag===3||e.tag===4}function yc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ga(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jr));else if(s!==4&&(e=e.child,e!==null))for(ga(e,t,n),e=e.sibling;e!==null;)ga(e,t,n),e=e.sibling}function ya(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ya(e,t,n),e=e.sibling;e!==null;)ya(e,t,n),e=e.sibling}var Fe=null,xt=!1;function Wt(e,t,n){for(n=n.child;n!==null;)vc(e,t,n),n=n.sibling}function vc(e,t,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Lr,n)}catch{}switch(n.tag){case 5:We||In(n,t);case 6:var s=Fe,l=xt;Fe=null,Wt(e,t,n),Fe=s,xt=l,Fe!==null&&(xt?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(xt?(e=Fe,n=n.stateNode,e.nodeType===8?Tl(e.parentNode,n):e.nodeType===1&&Tl(e,n),tr(e)):Tl(Fe,n.stateNode));break;case 4:s=Fe,l=xt,Fe=n.stateNode.containerInfo,xt=!0,Wt(e,t,n),Fe=s,xt=l;break;case 0:case 11:case 14:case 15:if(!We&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&((a&2)!==0||(a&4)!==0)&&pa(n,t,i),l=l.next}while(l!==s)}Wt(e,t,n);break;case 1:if(!We&&(In(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){De(n,t,o)}Wt(e,t,n);break;case 21:Wt(e,t,n);break;case 22:n.mode&1?(We=(s=We)||n.memoizedState!==null,Wt(e,t,n),We=s):Wt(e,t,n);break;default:Wt(e,t,n)}}function jc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Id),t.forEach(function(s){var l=qd.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Fe=o.stateNode,xt=!1;break e;case 3:Fe=o.stateNode.containerInfo,xt=!0;break e;case 4:Fe=o.stateNode.containerInfo,xt=!0;break e}o=o.return}if(Fe===null)throw Error(d(160));vc(a,i,l),Fe=null,xt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(S){De(l,t,S)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wc(t,e),t=t.sibling}function wc(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),kt(e),s&4){try{kr(3,e,e.return),Ns(3,e)}catch(Y){De(e,e.return,Y)}try{kr(5,e,e.return)}catch(Y){De(e,e.return,Y)}}break;case 1:gt(t,e),kt(e),s&512&&n!==null&&In(n,n.return);break;case 5:if(gt(t,e),kt(e),s&512&&n!==null&&In(n,n.return),e.flags&32){var l=e.stateNode;try{Hn(l,"")}catch(Y){De(e,e.return,Y)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Ka(l,a),Gs(o,i);var S=Gs(o,a);for(i=0;i<c.length;i+=2){var L=c[i],I=c[i+1];L==="style"?ni(l,I):L==="dangerouslySetInnerHTML"?ei(l,I):L==="children"?Hn(l,I):C(l,L,I,S)}switch(o){case"input":Hs(l,a);break;case"textarea":Ya(l,a);break;case"select":var z=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var q=a.value;q!=null?xn(l,!!a.multiple,q,!1):z!==!!a.multiple&&(a.defaultValue!=null?xn(l,!!a.multiple,a.defaultValue,!0):xn(l,!!a.multiple,a.multiple?[]:"",!1))}l[fr]=a}catch(Y){De(e,e.return,Y)}}break;case 6:if(gt(t,e),kt(e),s&4){if(e.stateNode===null)throw Error(d(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(Y){De(e,e.return,Y)}}break;case 3:if(gt(t,e),kt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{tr(t.containerInfo)}catch(Y){De(e,e.return,Y)}break;case 4:gt(t,e),kt(e);break;case 13:gt(t,e),kt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(wa=Pe())),s&4&&jc(e);break;case 22:if(L=n!==null&&n.memoizedState!==null,e.mode&1?(We=(S=We)||L,gt(t,e),We=S):gt(t,e),kt(e),s&8192){if(S=e.memoizedState!==null,(e.stateNode.isHidden=S)&&!L&&(e.mode&1)!==0)for(G=e,L=e.child;L!==null;){for(I=G=L;G!==null;){switch(z=G,q=z.child,z.tag){case 0:case 11:case 14:case 15:kr(4,z,z.return);break;case 1:In(z,z.return);var X=z.stateNode;if(typeof X.componentWillUnmount=="function"){s=z,n=z.return;try{t=s,X.props=t.memoizedProps,X.state=t.memoizedState,X.componentWillUnmount()}catch(Y){De(s,n,Y)}}break;case 5:In(z,z.return);break;case 22:if(z.memoizedState!==null){bc(I);continue}}q!==null?(q.return=z,G=q):bc(I)}L=L.sibling}e:for(L=null,I=e;;){if(I.tag===5){if(L===null){L=I;try{l=I.stateNode,S?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=I.stateNode,c=I.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=ti("display",i))}catch(Y){De(e,e.return,Y)}}}else if(I.tag===6){if(L===null)try{I.stateNode.nodeValue=S?"":I.memoizedProps}catch(Y){De(e,e.return,Y)}}else if((I.tag!==22&&I.tag!==23||I.memoizedState===null||I===e)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===e)break e;for(;I.sibling===null;){if(I.return===null||I.return===e)break e;L===I&&(L=null),I=I.return}L===I&&(L=null),I.sibling.return=I.return,I=I.sibling}}break;case 19:gt(t,e),kt(e),s&4&&jc(e);break;case 21:break;default:gt(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gc(n)){var s=n;break e}n=n.return}throw Error(d(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Hn(l,""),s.flags&=-33);var a=yc(e);ya(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,o=yc(e);ga(e,o,i);break;default:throw Error(d(161))}}catch(c){De(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $d(e,t,n){G=e,Nc(e)}function Nc(e,t,n){for(var s=(e.mode&1)!==0;G!==null;){var l=G,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||ws;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||We;o=ws;var S=We;if(ws=i,(We=c)&&!S)for(G=l;G!==null;)i=G,c=i.child,i.tag===22&&i.memoizedState!==null?Sc(l):c!==null?(c.return=i,G=c):Sc(l);for(;a!==null;)G=a,Nc(a),a=a.sibling;G=l,ws=o,We=S}kc(e)}else(l.subtreeFlags&8772)!==0&&a!==null?(a.return=l,G=a):kc(e)}}function kc(e){for(;G!==null;){var t=G;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:We||Ns(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!We)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:pt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&bo(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bo(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var S=t.alternate;if(S!==null){var L=S.memoizedState;if(L!==null){var I=L.dehydrated;I!==null&&tr(I)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(d(163))}We||t.flags&512&&xa(t)}catch(z){De(t,t.return,z)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function bc(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function Sc(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ns(4,t)}catch(c){De(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){De(t,l,c)}}var a=t.return;try{xa(t)}catch(c){De(t,a,c)}break;case 5:var i=t.return;try{xa(t)}catch(c){De(t,i,c)}}}catch(c){De(t,t.return,c)}if(t===e){G=null;break}var o=t.sibling;if(o!==null){o.return=t.return,G=o;break}G=t.return}}var Ad=Math.ceil,ks=b.ReactCurrentDispatcher,va=b.ReactCurrentOwner,ut=b.ReactCurrentBatchConfig,de=0,Oe=null,Me=null,$e=0,st=0,Fn=At(0),ze=0,br=null,cn=0,bs=0,ja=0,Sr=null,Ze=null,wa=0,$n=1/0,Mt=null,Ss=!1,Na=null,Qt=null,Cs=!1,qt=null,Es=0,Cr=0,ka=null,Ds=-1,Ps=0;function qe(){return(de&6)!==0?Pe():Ds!==-1?Ds:Ds=Pe()}function Kt(e){return(e.mode&1)===0?1:(de&2)!==0&&$e!==0?$e&-$e:kd.transition!==null?(Ps===0&&(Ps=gi()),Ps):(e=ge,e!==0||(e=window.event,e=e===void 0?16:Ci(e.type)),e)}function yt(e,t,n,s){if(50<Cr)throw Cr=0,ka=null,Error(d(185));Xn(e,n,s),((de&2)===0||e!==Oe)&&(e===Oe&&((de&2)===0&&(bs|=n),ze===4&&Gt(e,$e)),Je(e,s),n===1&&de===0&&(t.mode&1)===0&&($n=Pe()+500,rs&&Bt()))}function Je(e,t){var n=e.callbackNode;ku(e,t);var s=Fr(e,e===Oe?$e:0);if(s===0)n!==null&&hi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&hi(n),t===1)e.tag===0?Nd(Ec.bind(null,e)):fo(Ec.bind(null,e)),yd(function(){(de&6)===0&&Bt()}),n=null;else{switch(yi(s)){case 1:n=nl;break;case 4:n=pi;break;case 16:n=zr;break;case 536870912:n=xi;break;default:n=zr}n=Lc(n,Cc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cc(e,t){if(Ds=-1,Ps=0,(de&6)!==0)throw Error(d(327));var n=e.callbackNode;if(An()&&e.callbackNode!==n)return null;var s=Fr(e,e===Oe?$e:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=_s(e,s);else{t=s;var l=de;de|=2;var a=Pc();(Oe!==e||$e!==t)&&(Mt=null,$n=Pe()+500,dn(e,t));do try{Vd();break}catch(o){Dc(e,o)}while(!0);Ul(),ks.current=a,de=l,Me!==null?t=0:(Oe=null,$e=0,t=ze)}if(t!==0){if(t===2&&(l=rl(e),l!==0&&(s=l,t=ba(e,l))),t===1)throw n=br,dn(e,0),Gt(e,s),Je(e,Pe()),n;if(t===6)Gt(e,s);else{if(l=e.current.alternate,(s&30)===0&&!Ud(l)&&(t=_s(e,s),t===2&&(a=rl(e),a!==0&&(s=a,t=ba(e,a))),t===1))throw n=br,dn(e,0),Gt(e,s),Je(e,Pe()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(d(345));case 2:fn(e,Ze,Mt);break;case 3:if(Gt(e,s),(s&130023424)===s&&(t=wa+500-Pe(),10<t)){if(Fr(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){qe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=_l(fn.bind(null,e,Ze,Mt),t);break}fn(e,Ze,Mt);break;case 4:if(Gt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-ft(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=Pe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Ad(s/1960))-s,10<s){e.timeoutHandle=_l(fn.bind(null,e,Ze,Mt),s);break}fn(e,Ze,Mt);break;case 5:fn(e,Ze,Mt);break;default:throw Error(d(329))}}}return Je(e,Pe()),e.callbackNode===n?Cc.bind(null,e):null}function ba(e,t){var n=Sr;return e.current.memoizedState.isDehydrated&&(dn(e,t).flags|=256),e=_s(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&Sa(t)),e}function Sa(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function Ud(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],a=l.getSnapshot;l=l.value;try{if(!mt(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gt(e,t){for(t&=~ja,t&=~bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),s=1<<n;e[n]=-1,t&=~s}}function Ec(e){if((de&6)!==0)throw Error(d(327));An();var t=Fr(e,0);if((t&1)===0)return Je(e,Pe()),null;var n=_s(e,t);if(e.tag!==0&&n===2){var s=rl(e);s!==0&&(t=s,n=ba(e,s))}if(n===1)throw n=br,dn(e,0),Gt(e,t),Je(e,Pe()),n;if(n===6)throw Error(d(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fn(e,Ze,Mt),Je(e,Pe()),null}function Ca(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&($n=Pe()+500,rs&&Bt())}}function un(e){qt!==null&&qt.tag===0&&(de&6)===0&&An();var t=de;de|=1;var n=ut.transition,s=ge;try{if(ut.transition=null,ge=1,e)return e()}finally{ge=s,ut.transition=n,de=t,(de&6)===0&&Bt()}}function Ea(){st=Fn.current,ke(Fn)}function dn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gd(n)),Me!==null)for(n=Me.return;n!==null;){var s=n;switch(Ol(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ts();break;case 3:Ln(),ke(Ge),ke(Be),Gl();break;case 5:ql(s);break;case 4:Ln();break;case 13:ke(Ce);break;case 19:ke(Ce);break;case 10:Bl(s.type._context);break;case 22:case 23:Ea()}n=n.return}if(Oe=e,Me=e=Xt(e.current,null),$e=st=t,ze=0,br=null,ja=bs=cn=0,Ze=Sr=null,ln!==null){for(t=0;t<ln.length;t++)if(n=ln[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}n.pending=s}ln=null}return e}function Dc(e,t){do{var n=Me;try{if(Ul(),ms.current=gs,hs){for(var s=Ee.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}hs=!1}if(on=0,Le=Re=Ee=null,yr=!1,vr=0,va.current=null,n===null||n.return===null){ze=1,br=t,Me=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=$e,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var S=c,L=o,I=L.tag;if((L.mode&1)===0&&(I===0||I===11||I===15)){var z=L.alternate;z?(L.updateQueue=z.updateQueue,L.memoizedState=z.memoizedState,L.lanes=z.lanes):(L.updateQueue=null,L.memoizedState=null)}var q=Jo(i);if(q!==null){q.flags&=-257,ec(q,i,o,a,t),q.mode&1&&Zo(a,S,t),t=q,c=S;var X=t.updateQueue;if(X===null){var Y=new Set;Y.add(c),t.updateQueue=Y}else X.add(c);break e}else{if((t&1)===0){Zo(a,S,t),Da();break e}c=Error(d(426))}}else if(Se&&o.mode&1){var _e=Jo(i);if(_e!==null){(_e.flags&65536)===0&&(_e.flags|=256),ec(_e,i,o,a,t),$l(On(c,o));break e}}a=c=On(c,o),ze!==4&&(ze=2),Sr===null?Sr=[a]:Sr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=Xo(a,c,t);ko(a,y);break e;case 1:o=c;var m=a.type,N=a.stateNode;if((a.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Qt===null||!Qt.has(N)))){a.flags|=65536,t&=-t,a.lanes|=t;var A=Yo(a,o,t);ko(a,A);break e}}a=a.return}while(a!==null)}Tc(n)}catch(J){t=J,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function Pc(){var e=ks.current;return ks.current=gs,e===null?gs:e}function Da(){(ze===0||ze===3||ze===2)&&(ze=4),Oe===null||(cn&268435455)===0&&(bs&268435455)===0||Gt(Oe,$e)}function _s(e,t){var n=de;de|=2;var s=Pc();(Oe!==e||$e!==t)&&(Mt=null,dn(e,t));do try{Bd();break}catch(l){Dc(e,l)}while(!0);if(Ul(),de=n,ks.current=s,Me!==null)throw Error(d(261));return Oe=null,$e=0,ze}function Bd(){for(;Me!==null;)_c(Me)}function Vd(){for(;Me!==null&&!hu();)_c(Me)}function _c(e){var t=zc(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?Tc(e):Me=t,va.current=null}function Tc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Ld(n,t,st),n!==null){Me=n;return}}else{if(n=Od(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Me=null;return}}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);ze===0&&(ze=5)}function fn(e,t,n){var s=ge,l=ut.transition;try{ut.transition=null,ge=1,Hd(e,t,n,s)}finally{ut.transition=l,ge=s}return null}function Hd(e,t,n,s){do An();while(qt!==null);if((de&6)!==0)throw Error(d(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(d(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(bu(e,a),e===Oe&&(Me=Oe=null,$e=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Cs||(Cs=!0,Lc(zr,function(){return An(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=ut.transition,ut.transition=null;var i=ge;ge=1;var o=de;de|=4,va.current=null,Fd(e,n),wc(n,e),ud(Dl),Ur=!!El,Dl=El=null,e.current=n,$d(n),pu(),de=o,ge=i,ut.transition=a}else e.current=n;if(Cs&&(Cs=!1,qt=e,Es=l),a=e.pendingLanes,a===0&&(Qt=null),yu(n.stateNode),Je(e,Pe()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(Ss)throw Ss=!1,e=Na,Na=null,e;return(Es&1)!==0&&e.tag!==0&&An(),a=e.pendingLanes,(a&1)!==0?e===ka?Cr++:(Cr=0,ka=e):Cr=0,Bt(),null}function An(){if(qt!==null){var e=yi(Es),t=ut.transition,n=ge;try{if(ut.transition=null,ge=16>e?16:e,qt===null)var s=!1;else{if(e=qt,qt=null,Es=0,(de&6)!==0)throw Error(d(331));var l=de;for(de|=4,G=e.current;G!==null;){var a=G,i=a.child;if((G.flags&16)!==0){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var S=o[c];for(G=S;G!==null;){var L=G;switch(L.tag){case 0:case 11:case 15:kr(8,L,a)}var I=L.child;if(I!==null)I.return=L,G=I;else for(;G!==null;){L=G;var z=L.sibling,q=L.return;if(xc(L),L===S){G=null;break}if(z!==null){z.return=q,G=z;break}G=q}}}var X=a.alternate;if(X!==null){var Y=X.child;if(Y!==null){X.child=null;do{var _e=Y.sibling;Y.sibling=null,Y=_e}while(Y!==null)}}G=a}}if((a.subtreeFlags&2064)!==0&&i!==null)i.return=a,G=i;else e:for(;G!==null;){if(a=G,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:kr(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,G=y;break e}G=a.return}}var m=e.current;for(G=m;G!==null;){i=G;var N=i.child;if((i.subtreeFlags&2064)!==0&&N!==null)N.return=i,G=N;else e:for(i=m;G!==null;){if(o=G,(o.flags&2048)!==0)try{switch(o.tag){case 0:case 11:case 15:Ns(9,o)}}catch(J){De(o,o.return,J)}if(o===i){G=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,G=A;break e}G=o.return}}if(de=l,Bt(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Lr,e)}catch{}s=!0}return s}finally{ge=n,ut.transition=t}}return!1}function Mc(e,t,n){t=On(n,t),t=Xo(e,t,1),e=Ht(e,t,1),t=qe(),e!==null&&(Xn(e,1,t),Je(e,t))}function De(e,t,n){if(e.tag===3)Mc(e,e,n);else for(;t!==null;){if(t.tag===3){Mc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Qt===null||!Qt.has(s))){e=On(n,e),e=Yo(t,e,1),t=Ht(t,e,1),e=qe(),t!==null&&(Xn(t,1,e),Je(t,e));break}}t=t.return}}function Wd(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&n,Oe===e&&($e&n)===n&&(ze===4||ze===3&&($e&130023424)===$e&&500>Pe()-wa?dn(e,0):ja|=n),Je(e,t)}function Rc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ir,Ir<<=1,(Ir&130023424)===0&&(Ir=4194304)));var n=qe();e=Pt(e,t),e!==null&&(Xn(e,t,n),Je(e,n))}function Qd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rc(e,n)}function qd(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(d(314))}s!==null&&s.delete(t),Rc(e,n)}var zc;zc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)Ye=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ye=!1,zd(e,t,n);Ye=(e.flags&131072)!==0}else Ye=!1,Se&&(t.flags&1048576)!==0&&mo(t,ls,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;js(e,t),e=t.pendingProps;var l=Dn(t,Be.current);zn(t,n),l=Zl(null,t,s,e,l,n);var a=Jl();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(s)?(a=!0,ns(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Wl(t),l.updater=ys,t.stateNode=l,l._reactInternals=t,la(t,s,e,n),t=ca(null,t,s,!0,a,n)):(t.tag=0,Se&&a&&Ll(t),Qe(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(js(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Gd(s),e=pt(s,e),l){case 0:t=oa(null,t,s,e,n);break e;case 1:t=ac(null,t,s,e,n);break e;case 11:t=tc(null,t,s,e,n);break e;case 14:t=nc(null,t,s,pt(s.type,e),n);break e}throw Error(d(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:pt(s,l),oa(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:pt(s,l),ac(e,t,s,l,n);case 3:e:{if(ic(t),e===null)throw Error(d(387));s=t.pendingProps,a=t.memoizedState,l=a.element,No(e,t),ds(t,s,null,n);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=On(Error(d(423)),t),t=oc(e,t,s,n,l);break e}else if(s!==l){l=On(Error(d(424)),t),t=oc(e,t,s,n,l);break e}else for(rt=$t(t.stateNode.containerInfo.firstChild),nt=t,Se=!0,ht=null,n=jo(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tn(),s===l){t=Tt(e,t,n);break e}Qe(e,t,s,n)}t=t.child}return t;case 5:return So(t),e===null&&Fl(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,Pl(s,l)?i=null:a!==null&&Pl(s,a)&&(t.flags|=32),lc(e,t),Qe(e,t,i,n),t.child;case 6:return e===null&&Fl(t),null;case 13:return cc(e,t,n);case 4:return Ql(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Mn(t,null,s,n):Qe(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:pt(s,l),tc(e,t,s,l,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,ve(os,s._currentValue),s._currentValue=i,a!==null)if(mt(a.value,i)){if(a.children===l.children&&!Ge.current){t=Tt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=_t(-1,n&-n),c.tag=2;var S=a.updateQueue;if(S!==null){S=S.shared;var L=S.pending;L===null?c.next=c:(c.next=L.next,L.next=c),S.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Vl(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(d(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Vl(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Qe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,zn(t,n),l=ot(l),s=s(l),t.flags|=1,Qe(e,t,s,n),t.child;case 14:return s=t.type,l=pt(s,t.pendingProps),l=pt(s.type,l),nc(e,t,s,l,n);case 15:return rc(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:pt(s,l),js(e,t),t.tag=1,Xe(s)?(e=!0,ns(t)):e=!1,zn(t,n),Ko(t,s,l),la(t,s,l,n),ca(null,t,s,!0,e,n);case 19:return dc(e,t,n);case 22:return sc(e,t,n)}throw Error(d(156,t.tag))};function Lc(e,t){return mi(e,t)}function Kd(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,t,n,s){return new Kd(e,t,n,s)}function Pa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gd(e){if(typeof e=="function")return Pa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===je)return 11;if(e===lt)return 14}return 2}function Xt(e,t){var n=e.alternate;return n===null?(n=dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ts(e,t,n,s,l,a){var i=2;if(s=e,typeof e=="function")Pa(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case B:return mn(n.children,l,a,t);case W:i=8,l|=8;break;case le:return e=dt(12,n,t,l|2),e.elementType=le,e.lanes=a,e;case we:return e=dt(13,n,t,l),e.elementType=we,e.lanes=a,e;case Te:return e=dt(19,n,t,l),e.elementType=Te,e.lanes=a,e;case be:return Ms(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:i=10;break e;case ye:i=9;break e;case je:i=11;break e;case lt:i=14;break e;case Ue:i=16,s=null;break e}throw Error(d(130,e==null?e:typeof e,""))}return t=dt(i,n,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function mn(e,t,n,s){return e=dt(7,e,s,t),e.lanes=n,e}function Ms(e,t,n,s){return e=dt(22,e,s,t),e.elementType=be,e.lanes=n,e.stateNode={isHidden:!1},e}function _a(e,t,n){return e=dt(6,e,null,t),e.lanes=n,e}function Ta(e,t,n){return t=dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xd(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sl(0),this.expirationTimes=sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ma(e,t,n,s,l,a,i,o,c){return e=new Xd(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=dt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wl(a),e}function Yd(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Oc(e){if(!e)return Ut;e=e._reactInternals;e:{if(en(e)!==e||e.tag!==1)throw Error(d(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(d(171))}if(e.tag===1){var n=e.type;if(Xe(n))return co(e,n,t)}return t}function Ic(e,t,n,s,l,a,i,o,c){return e=Ma(n,s,!0,e,l,a,i,o,c),e.context=Oc(null),n=e.current,s=qe(),l=Kt(n),a=_t(s,l),a.callback=t??null,Ht(n,a,l),e.current.lanes=l,Xn(e,l,s),Je(e,s),e}function Rs(e,t,n,s){var l=t.current,a=qe(),i=Kt(l);return n=Oc(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ht(l,t,i),e!==null&&(yt(e,l,i,a),us(e,l,i)),i}function zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ra(e,t){Fc(e,t),(e=e.alternate)&&Fc(e,t)}function Zd(){return null}var $c=typeof reportError=="function"?reportError:function(e){console.error(e)};function za(e){this._internalRoot=e}Ls.prototype.render=za.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));Rs(e,t,null,null)},Ls.prototype.unmount=za.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;un(function(){Rs(null,e,null,null)}),t[St]=null}};function Ls(e){this._internalRoot=e}Ls.prototype.unstable_scheduleHydration=function(e){if(e){var t=wi();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&t!==0&&t<Ot[n].priority;n++);Ot.splice(n,0,e),n===0&&bi(e)}};function La(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Os(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ac(){}function Jd(e,t,n,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var S=zs(i);a.call(S)}}var i=Ic(t,s,e,0,null,!1,!1,"",Ac);return e._reactRootContainer=i,e[St]=i.current,ur(e.nodeType===8?e.parentNode:e),un(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var o=s;s=function(){var S=zs(c);o.call(S)}}var c=Ma(e,0,!1,null,null,!1,!1,"",Ac);return e._reactRootContainer=c,e[St]=c.current,ur(e.nodeType===8?e.parentNode:e),un(function(){Rs(t,c,n,s)}),c}function Is(e,t,n,s,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=zs(i);o.call(c)}}Rs(t,i,e,l)}else i=Jd(n,t,e,l,s);return zs(i)}vi=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gn(t.pendingLanes);n!==0&&(ll(t,n|1),Je(t,Pe()),(de&6)===0&&($n=Pe()+500,Bt()))}break;case 13:un(function(){var s=Pt(e,1);if(s!==null){var l=qe();yt(s,e,1,l)}}),Ra(e,1)}},al=function(e){if(e.tag===13){var t=Pt(e,134217728);if(t!==null){var n=qe();yt(t,e,134217728,n)}Ra(e,134217728)}},ji=function(e){if(e.tag===13){var t=Kt(e),n=Pt(e,t);if(n!==null){var s=qe();yt(n,e,t,s)}Ra(e,t)}},wi=function(){return ge},Ni=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}},Zs=function(e,t,n){switch(t){case"input":if(Hs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=es(s);if(!l)throw Error(d(90));bt(s),Hs(s,l)}}}break;case"textarea":Ya(e,n);break;case"select":t=n.value,t!=null&&xn(e,!!n.multiple,t,!1)}},ai=Ca,ii=un;var ef={usingClientEntryPoint:!1,Events:[mr,Cn,es,si,li,Ca]},Er={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tf={bundleType:Er.bundleType,version:Er.version,rendererPackageName:Er.rendererPackageName,rendererConfig:Er.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=di(e),e===null?null:e.stateNode},findFiberByHostInstance:Er.findFiberByHostInstance||Zd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fs.isDisabled&&Fs.supportsFiber)try{Lr=Fs.inject(tf),vt=Fs}catch{}}return et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ef,et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!La(t))throw Error(d(200));return Yd(e,t,null,n)},et.createRoot=function(e,t){if(!La(e))throw Error(d(299));var n=!1,s="",l=$c;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ma(e,1,!1,null,null,n,!1,s,l),e[St]=t.current,ur(e.nodeType===8?e.parentNode:e),new za(t)},et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=di(t),e=e===null?null:e.stateNode,e},et.flushSync=function(e){return un(e)},et.hydrate=function(e,t,n){if(!Os(t))throw Error(d(200));return Is(null,e,t,!0,n)},et.hydrateRoot=function(e,t,n){if(!La(e))throw Error(d(405));var s=n!=null&&n.hydratedSources||null,l=!1,a="",i=$c;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Ic(t,null,e,1,n??null,l,!1,a,i),e[St]=t.current,ur(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ls(t)},et.render=function(e,t,n){if(!Os(t))throw Error(d(200));return Is(null,e,t,!1,n)},et.unmountComponentAtNode=function(e){if(!Os(e))throw Error(d(40));return e._reactRootContainer?(un(function(){Is(null,null,e,!1,function(){e._reactRootContainer=null,e[St]=null})}),!0):!1},et.unstable_batchedUpdates=Ca,et.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Os(n))throw Error(d(200));if(e==null||e._reactInternals===void 0)throw Error(d(38));return Is(e,t,n,!1,s)},et.version="18.3.1-next-f1338f8080-20240426",et}var Kc;function uf(){if(Kc)return Fa.exports;Kc=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(P){console.error(P)}}return f(),Fa.exports=cf(),Fa.exports}var Gc;function df(){if(Gc)return $s;Gc=1;var f=uf();return $s.createRoot=f.createRoot,$s.hydrateRoot=f.hydrateRoot,$s}var ff=df();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=f=>f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(f,P)=>{const d=O.forwardRef(({color:M="currentColor",size:k=24,strokeWidth:u=2,absoluteStrokeWidth:p,className:D="",children:v,..._},j)=>O.createElement("svg",{ref:j,...mf,width:k,height:k,stroke:M,strokeWidth:p?Number(u)*24/Number(k):u,className:["lucide",`lucide-${hf(f)}`,D].join(" "),..._},[...P.map(([E,g])=>O.createElement(E,g)),...Array.isArray(v)?v:[v]]));return d.displayName=`${f}`,d};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=ie("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=ie("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=ie("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=ie("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=ie("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ie("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=ie("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=ie("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ie("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ie("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ie("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=ie("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=ie("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=ie("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ef=({activeView:f,onViewChange:P,cartItemsCount:d,newOrdersCount:M})=>{const k=[{id:"pos",name:"POS",icon:Bs},{id:"dashboard",name:"Дашборд",icon:Pr},{id:"inventory",name:"Наличност",icon:Ae},{id:"orders",name:"Поръчки",icon:Bn,hasNotification:M>0},{id:"revision-history",name:"История",icon:vf},{id:"analytics",name:"Анализи",icon:Jt},{id:"automatic-actions",name:"Автоматика",icon:au},{id:"settings",name:"ПиК",icon:tu}];return r.jsx("nav",{className:"bg-gray-900 border-b border-gray-700",children:r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-8",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-emerald-600 p-3 rounded-lg",children:r.jsx(Bs,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-white",children:"POS Система"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Модерен терминал"})]})]}),r.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:k.map(u=>{const p=u.icon,D=f===u.id;return r.jsxs("button",{onClick:()=>P(u.id),className:`flex items-center space-x-3 px-6 py-3 rounded-lg transition-all duration-200 min-h-[48px] whitespace-nowrap relative ${D?"bg-emerald-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-800 hover:text-white"} ${u.hasNotification?"animate-pulse-red":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx(p,{className:"w-5 h-5"}),u.id==="pos"&&d>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:d}),u.id==="orders"&&M>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold animate-pulse",children:M})]}),r.jsx("span",{className:"font-medium text-base",children:u.name})]},u.id)})})]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("button",{className:"p-3 hover:bg-gray-800 rounded-lg transition-colors min-w-[48px] min-h-[48px] flex items-center justify-center",children:r.jsx(Sf,{className:"w-6 h-6 text-gray-300"})})})]})})})},Df=({products:f,onAddToCart:P})=>{const[d,M]=O.useState(""),[k,u]=O.useState("Всички"),p=["Всички",...Array.from(new Set(f.map(j=>j.category)))],D=f.filter(j=>{const E=j.name.toLowerCase().includes(d.toLowerCase()),g=k==="Всички"||j.category===k;return E&&g}),v=(j,E)=>E?j*(1-E/100):j,_=j=>j===void 0?{status:"unknown",color:"text-gray-500",bgColor:"bg-gray-700"}:j<=0?{status:"out",color:"text-red-400",bgColor:"bg-red-600"}:j<=5?{status:"low",color:"text-orange-400",bgColor:"bg-orange-600"}:j<=10?{status:"medium",color:"text-yellow-400",bgColor:"bg-yellow-600"}:{status:"good",color:"text-green-400",bgColor:"bg-green-600"};return r.jsxs("div",{className:"flex-1 p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex items-center space-x-4 mb-4",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Търсене на продукти...",value:d,onChange:j=>M(j.target.value),className:"w-full pl-10 pr-4 py-4 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:border-transparent text-lg"})]})}),r.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:p.map(j=>r.jsx("button",{onClick:()=>u(j),className:`px-6 py-4 rounded-lg text-sm font-medium whitespace-nowrap transition-all duration-200 min-h-[48px] flex items-center ${k===j?"bg-emerald-600 text-white shadow-lg transform scale-105":"bg-gray-800 text-gray-300 hover:bg-gray-700 active:scale-95"}`,children:j},j))})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:D.map(j=>{const E=v(j.price,j.discount),g=j.discount&&j.discount>0,F=j.stock!==void 0&&j.stock<=0,T=_(j.stock);return r.jsx("div",{className:`bg-gray-800 rounded-xl p-4 transition-all duration-200 cursor-pointer group border-2 border-gray-700 hover:border-emerald-600 hover:shadow-xl active:scale-95 ${F?"opacity-50":""} ${T.status==="low"?"border-orange-500 bg-orange-900/20":""} ${T.status==="out"?"border-red-500 bg-red-900/20":""}`,onClick:()=>!F&&P(j),children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"mb-4 flex-1 relative",children:[r.jsx("div",{className:"w-full h-32 bg-gray-700 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:j.image?r.jsx("img",{src:j.image,alt:j.name,className:"w-full h-full object-cover"}):r.jsx(Ae,{className:"w-12 h-12 text-gray-500"})}),g&&r.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center",children:[r.jsx(Ha,{className:"w-3 h-3 mr-1"}),j.discount]}),F&&r.jsxs("div",{className:"absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center",children:[r.jsx(Zt,{className:"w-3 h-3 mr-1"}),"Изчерпан"]}),r.jsx("h3",{className:"font-semibold text-white text-base group-hover:text-emerald-400 transition-colors leading-tight",children:j.name}),r.jsx("p",{className:"text-gray-400 text-sm mt-1",children:j.category})]}),r.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[r.jsx("div",{className:"flex flex-col",children:g?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-emerald-400 font-bold text-xl",children:[E.toFixed(2)," лв"]}),r.jsxs("span",{className:"text-gray-500 line-through text-sm",children:[j.price.toFixed(2)," лв"]})]}):r.jsxs("span",{className:"text-emerald-400 font-bold text-xl",children:[j.price.toFixed(2)," лв"]})}),r.jsx("button",{onClick:w=>{w.stopPropagation(),F||P(j)},disabled:F,className:`p-4 rounded-xl transition-all duration-200 group-hover:scale-110 transform active:scale-95 min-w-[56px] min-h-[56px] flex items-center justify-center ${F?"bg-gray-600 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700 shadow-lg hover:shadow-emerald-600/25"}`,children:r.jsx(hn,{className:"w-6 h-6 text-white"})})]}),j.stock!==void 0&&r.jsx("div",{className:"mt-3 text-sm text-center",children:r.jsx("span",{className:`font-medium ${T.color}`,children:F?"Изчерпан":`Налични: ${j.stock}`})})]})},j.id)})}),D.length===0&&r.jsxs("div",{className:"text-center py-16 text-gray-500",children:[r.jsx(Ae,{className:"w-20 h-20 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-xl mb-2",children:"Няма намерени продукти"}),r.jsx("p",{className:"text-sm",children:"Опитайте с различни критерии за търсене"})]})]})},Pf=({items:f,onUpdateQuantity:P,onRemoveItem:d,onClearCart:M})=>{const k=f.reduce((u,p)=>u+p.price*p.quantity,0);return f.length===0?r.jsxs("div",{className:"w-full lg:w-80 bg-gray-800 border-l border-gray-700 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Количка"})}),r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[r.jsxs("div",{className:"relative mb-6",children:[r.jsx(As,{className:"w-20 h-20 text-gray-600"}),r.jsx(Ae,{className:"w-8 h-8 text-gray-500 absolute -bottom-2 -right-2"})]}),r.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Количката е празна"}),r.jsxs("p",{className:"text-center text-sm leading-relaxed",children:["Добавете продукти от панела вляво",r.jsx("br",{}),"за да стартирате поръчка"]})]})]}):r.jsxs("div",{className:"w-full lg:w-80 bg-gray-800 border-l border-gray-700 p-6 flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Количка"}),r.jsx("button",{onClick:M,className:"text-red-400 hover:text-red-300 p-3 rounded-lg hover:bg-red-600 hover:bg-opacity-20 transition-all duration-200 active:scale-95 min-w-[48px] min-h-[48px] flex items-center justify-center",title:"Изчисти количката",children:r.jsx(pn,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 mb-6",children:f.map(u=>r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 hover:bg-gray-650 transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("h3",{className:"font-medium text-white text-sm leading-tight flex-1",children:u.name}),r.jsx("button",{onClick:()=>d(u.id),className:"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-600 hover:bg-opacity-20 transition-all duration-200 ml-2 active:scale-95 min-w-[40px] min-h-[40px] flex items-center justify-center",children:r.jsx(pn,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>P(u.id,Math.max(0,u.quantity-1)),className:"bg-gray-600 hover:bg-gray-500 p-3 rounded-lg transition-all duration-200 active:scale-95 min-w-[48px] min-h-[48px] flex items-center justify-center",children:r.jsx(jf,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"text-white font-bold text-lg w-12 text-center",children:u.quantity}),r.jsx("button",{onClick:()=>P(u.id,u.quantity+1),className:"bg-gray-600 hover:bg-gray-500 p-3 rounded-lg transition-all duration-200 active:scale-95 min-w-[48px] min-h-[48px] flex items-center justify-center",children:r.jsx(hn,{className:"w-5 h-5 text-white"})})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-emerald-400 font-bold text-base",children:[(u.price*u.quantity).toFixed(2)," лв"]}),r.jsxs("div",{className:"text-gray-400 text-xs",children:[u.price.toFixed(2)," лв/бр"]})]})]})]},u.id))}),r.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("span",{className:"text-xl font-semibold text-white",children:"Общо:"}),r.jsxs("span",{className:"text-3xl font-bold text-emerald-400",children:[k.toFixed(2)," лв"]})]}),r.jsxs("div",{className:"text-sm text-gray-400 mb-4",children:[f.length," артикула • ",f.reduce((u,p)=>u+p.quantity,0)," бройки"]})]})]})},_f=({transaction:f,isOpen:P,onClose:d})=>{if(!P)return null;const M=p=>new Intl.DateTimeFormat("bg-BG",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(p),k=p=>({cash:"В брой",card:"Банкова карта",digital:"Дигитално плащане"})[p]||p,u=()=>{const p=document.getElementById("receipt-content");if(p){const D=window.open("","_blank");D&&(D.document.write(`
          <html>
            <head>
              <title>Касов бон #${f.id}</title>
              <style>
                body { font-family: 'Courier New', monospace; font-size: 12px; margin: 20px; }
                .receipt { max-width: 300px; margin: 0 auto; }
                .header { text-align: center; border-bottom: 1px dashed #000; padding-bottom: 10px; margin-bottom: 10px; }
                .item { display: flex; justify-content: space-between; margin: 5px 0; }
                .total { border-top: 1px dashed #000; padding-top: 10px; margin-top: 10px; font-weight: bold; }
                .footer { text-align: center; margin-top: 20px; font-size: 10px; }
              </style>
            </head>
            <body>
              ${p.innerHTML}
            </body>
          </html>
        `),D.document.close(),D.print(),D.close())}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:"Касов бон"}),r.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white p-1 rounded transition-colors",children:r.jsx(Qa,{className:"w-5 h-5"})})]}),r.jsxs("div",{id:"receipt-content",className:"receipt",children:[r.jsxs("div",{className:"header",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"POS СИСТЕМА"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Модерен търговски терминал"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"ул. Витоша 1, София 1000"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Тел: +359 2 123 4567"})]}),r.jsx("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between text-gray-300",children:[r.jsx("span",{children:"Бон №:"}),r.jsxs("span",{className:"font-mono",children:["#",f.id]})]}),r.jsxs("div",{className:"flex justify-between text-gray-300",children:[r.jsx("span",{children:"Дата:"}),r.jsx("span",{children:M(f.timestamp)})]}),r.jsxs("div",{className:"flex justify-between text-gray-300",children:[r.jsx("span",{children:"Плащане:"}),r.jsx("span",{children:k(f.paymentMethod)})]})]})}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex justify-between text-gray-400 text-sm border-b border-gray-600 pb-2",children:[r.jsx("span",{children:"Продукт"}),r.jsx("span",{children:"Сума"})]}),f.items.map(p=>r.jsxs("div",{className:"item",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-white font-medium text-sm",children:p.name}),r.jsxs("div",{className:"text-gray-400 text-xs",children:[p.quantity," x ",p.price.toFixed(2)," лв"]})]}),r.jsxs("div",{className:"text-emerald-400 font-bold text-sm",children:[(p.price*p.quantity).toFixed(2)," лв"]})]},p.id))]}),r.jsxs("div",{className:"total border-t border-gray-600 pt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-lg font-semibold text-white",children:"ОБЩО:"}),r.jsxs("span",{className:"text-2xl font-bold text-emerald-400",children:[f.total.toFixed(2)," лв"]})]}),r.jsxs("div",{className:"text-xs text-gray-400 text-center",children:["Включено ДДС: ",(f.total*.2).toFixed(2)," лв"]})]}),r.jsxs("div",{className:"footer text-center mt-6 text-gray-500 text-xs",children:[r.jsx("p",{children:"Благодарим за покупката!"}),r.jsx("p",{children:"Запазете бележката за гаранция"}),r.jsx("p",{className:"mt-2",children:"www.pos-system.bg"})]})]}),r.jsxs("div",{className:"flex space-x-3 mt-6",children:[r.jsxs("button",{onClick:u,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[r.jsx(eu,{className:"w-4 h-4"}),r.jsx("span",{children:"Разпечатай"})]}),r.jsxs("button",{onClick:d,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[r.jsx(Us,{className:"w-4 h-4"}),r.jsx("span",{children:"Запази"})]})]})]})})},Tf=({items:f,total:P,onPaymentComplete:d,onClearCart:M})=>{const[k,u]=O.useState("cash"),[p,D]=O.useState(""),[v,_]=O.useState(!1),[j,E]=O.useState(!1),[g,F]=O.useState(null),[T,w]=O.useState(!1),h=[{id:"cash",name:"В брой",icon:Yc,color:"emerald"},{id:"card",name:"Карта",icon:Ua,color:"blue"},{id:"digital",name:"Дигитално",icon:nu,color:"purple"}],$=k==="cash"&&p?Math.max(0,parseFloat(p)-P):0,H=()=>f.length===0?!1:k==="cash"?p&&parseFloat(p)>=P:!0,C=async()=>{if(!H())return;_(!0),await new Promise(B=>setTimeout(B,2e3));const V={id:Date.now().toString(),items:[...f],total:P,paymentMethod:k,timestamp:new Date,cashier:"admin"};F(V),d(V),M(),D(""),_(!1),E(!0)},b=()=>{E(!1),F(null)},U=()=>{g&&w(!0)};return j&&g?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"w-full lg:w-80 bg-gray-800 border-l border-gray-700 p-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"bg-emerald-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Un,{className:"w-10 h-10 text-white"})}),r.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Плащането е успешно!"}),r.jsxs("p",{className:"text-gray-400",children:["Транзакция #",g.id.slice(-6)]})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Резюме на поръчката"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[g.items.map(V=>r.jsxs("div",{className:"flex justify-between text-gray-300",children:[r.jsxs("span",{children:[V.name," x",V.quantity]}),r.jsxs("span",{children:[(V.price*V.quantity).toFixed(2)," лв"]})]},V.id)),r.jsxs("div",{className:"border-t border-gray-600 pt-2 mt-2",children:[r.jsxs("div",{className:"flex justify-between font-bold text-white",children:[r.jsx("span",{children:"Общо:"}),r.jsxs("span",{children:[g.total.toFixed(2)," лв"]})]}),r.jsxs("div",{className:"flex justify-between text-gray-400 text-xs mt-1",children:[r.jsx("span",{children:"Плащане:"}),r.jsx("span",{children:h.find(V=>V.id===g.paymentMethod)?.name})]}),k==="cash"&&$>0&&r.jsxs("div",{className:"flex justify-between text-emerald-400 text-sm mt-1",children:[r.jsx("span",{children:"Ресто:"}),r.jsxs("span",{children:[$.toFixed(2)," лв"]})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:U,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-5 px-4 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-3 active:scale-95 min-h-[64px]",children:[r.jsx(Nf,{className:"w-6 h-6"}),r.jsx("span",{className:"text-lg",children:"Касов бон"})]}),r.jsx("button",{onClick:b,className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-5 px-4 rounded-lg font-medium transition-all duration-200 active:scale-95 min-h-[64px] text-lg",children:"Нова поръчка"})]})]}),r.jsx(_f,{transaction:g,isOpen:T,onClose:()=>w(!1)})]}):f.length===0?r.jsxs("div",{className:"w-full lg:w-80 bg-gray-800 border-l border-gray-700 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-6",children:"Плащане"}),r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[r.jsx(Ua,{className:"w-16 h-16 mb-4"}),r.jsx("p",{className:"text-center",children:"Няма продукти за плащане"})]})]}):r.jsxs("div",{className:"w-full lg:w-80 bg-gray-800 border-l border-gray-700 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-6",children:"Плащане"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-300",children:"Общо за плащане:"}),r.jsxs("span",{className:"text-3xl font-bold text-emerald-400",children:[P.toFixed(2)," лв"]})]})}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Начин на плащане:"}),h.map(V=>{const B=V.icon;return r.jsxs("button",{onClick:()=>{u(V.id),D("")},className:`w-full p-5 rounded-lg border-2 transition-all duration-200 flex items-center space-x-3 active:scale-95 min-h-[64px] ${k===V.id?`border-${V.color}-600 bg-${V.color}-600 bg-opacity-20 shadow-lg`:"border-gray-600 hover:border-gray-500"}`,children:[r.jsx(B,{className:`w-7 h-7 ${k===V.id?`text-${V.color}-400`:"text-gray-400"}`}),r.jsx("span",{className:`font-medium text-xl ${k===V.id?"text-white":"text-gray-300"}`,children:V.name})]},V.id)})]}),k==="cash"&&r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Получена сума:"}),r.jsx("input",{type:"number",step:"0.01",value:p,onChange:V=>D(V.target.value),placeholder:"0.00",className:"w-full p-5 bg-gray-700 border border-gray-600 rounded-lg text-white text-xl placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:border-transparent"}),$>0&&r.jsxs("div",{className:"mt-3 p-4 bg-emerald-600 bg-opacity-20 rounded-lg text-emerald-400 text-xl font-medium",children:["Ресто: ",$.toFixed(2)," лв"]})]})]}),r.jsx("button",{onClick:C,disabled:!H()||v,className:`w-full py-6 px-4 rounded-lg font-bold text-2xl transition-all duration-200 min-h-[72px] flex items-center justify-center ${H()&&!v?"bg-emerald-600 hover:bg-emerald-700 text-white hover:shadow-lg transform hover:scale-105 active:scale-95":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:v?r.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-7 w-7 border-b-2 border-white"}),r.jsx("span",{children:"Обработва се..."})]}):"Завърши плащането"})]})},Mf=({products:f,cartItems:P,cartTotal:d,stockWarning:M,onAddToCart:k,onUpdateQuantity:u,onRemoveItem:p,onClearCart:D,onPaymentComplete:v,onClearStockWarning:_})=>r.jsxs("div",{className:"flex flex-1 h-full overflow-hidden flex-col lg:flex-row",children:[M&&r.jsxs("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 bg-red-600 text-white px-6 py-4 rounded-lg shadow-xl flex items-center space-x-3 animate-bounce border-2 border-red-400",children:[r.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),r.jsx("span",{className:"font-medium text-lg",children:M}),r.jsx("button",{onClick:_,className:"ml-4 text-white hover:text-gray-200 font-bold text-xl p-1 rounded-full hover:bg-red-500 transition-colors",children:"✕"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto lg:flex-1",children:r.jsx(Df,{products:f,onAddToCart:k})}),r.jsxs("div",{className:"flex flex-shrink-0 flex-col lg:flex-row",children:[r.jsx(Pf,{items:P,onUpdateQuantity:u,onRemoveItem:p,onClearCart:D}),r.jsx(Tf,{items:P,total:d,onPaymentComplete:v,onClearCart:D})]})]}),Rf=({data:f})=>{const P=Math.max(...f.map(u=>u.revenue)),d=Math.max(...f.map(u=>u.transactions)),M=u=>`${u.toString().padStart(2,"0")}:00`,k=(u,p)=>p===0?0:Math.max(u/p*100,2);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded"}),r.jsx("span",{className:"text-gray-300",children:"Оборот (лв)"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),r.jsx("span",{className:"text-gray-300",children:"Поръчки"})]})]}),r.jsx("div",{className:"relative h-48 bg-gray-700 rounded-lg p-4",children:r.jsx("div",{className:"flex items-end justify-between h-full space-x-0.5",children:f.map((u,p)=>{const D=k(u.revenue,P),v=k(u.transactions,d);return r.jsxs("div",{className:"flex flex-col items-center space-y-1 group",style:{width:"3.5%"},children:[r.jsxs("div",{className:"relative flex items-end space-x-0.5 h-32 w-full justify-center",children:[r.jsx("div",{className:"bg-emerald-500 rounded-t transition-all duration-300 group-hover:bg-emerald-400",style:{height:`${D}%`,width:"6px"},title:`${u.revenue.toFixed(2)} лв`}),r.jsx("div",{className:"bg-blue-500 rounded-t transition-all duration-300 group-hover:bg-blue-400",style:{height:`${v}%`,width:"6px"},title:`${u.transactions} поръчки`})]}),r.jsx("span",{className:"text-xs text-gray-400 transform -rotate-45 origin-center whitespace-nowrap",style:{fontSize:"10px"},children:M(u.hour)}),r.jsxs("div",{className:"opacity-0 group-hover:opacity-100 absolute bottom-full mb-2 bg-gray-900 text-white text-xs rounded px-2 py-1 whitespace-nowrap z-10 transition-opacity",children:[r.jsx("div",{children:M(u.hour)}),r.jsxs("div",{children:[u.revenue.toFixed(2)," лв"]}),r.jsxs("div",{children:[u.transactions," поръчки"]})]})]},p)})})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[r.jsx("div",{className:"text-gray-400",children:"Най-активен час"}),r.jsx("div",{className:"text-white font-bold",children:(()=>{const u=f.reduce((p,D)=>D.transactions>p.transactions?D:p);return M(u.hour)})()})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[r.jsx("div",{className:"text-gray-400",children:"Най-печеливш час"}),r.jsx("div",{className:"text-white font-bold",children:(()=>{const u=f.reduce((p,D)=>D.revenue>p.revenue?D:p);return M(u.hour)})()})]})]})]})},zf=({data:f})=>{const P=f.reduce((u,p)=>u+p.revenue,0),d=f.reduce((u,p)=>u+p.count,0),M=u=>({cash:{name:"В брой",icon:Yc,color:"emerald"},card:{name:"Карта",icon:Ua,color:"blue"},digital:{name:"Дигитално",icon:nu,color:"purple"}})[u],k=(u,p)=>p===0?0:u/p*100;return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-center",children:r.jsxs("div",{className:"relative w-32 h-32",children:[r.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[r.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#374151",strokeWidth:"8"}),(()=>{let u=0;return f.map((p,D)=>{const v=k(p.revenue,P),_=`${v*2.51} 251`,j=-u*2.51,E=M(p.method),g={emerald:"#10b981",blue:"#3b82f6",purple:"#8b5cf6"};return u+=v,r.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:g[E.color],strokeWidth:"8",strokeDasharray:_,strokeDashoffset:j,className:"transition-all duration-300"},p.method)})})()]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-bold text-white",children:d}),r.jsx("div",{className:"text-xs text-gray-400",children:"поръчки"})]})})]})}),r.jsx("div",{className:"space-y-3",children:f.map(u=>{const p=M(u.method),D=p.icon,v=k(u.revenue,P),_=k(u.count,d),j={emerald:"text-emerald-400 bg-emerald-600",blue:"text-blue-400 bg-blue-600",purple:"text-purple-400 bg-purple-600"};return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg bg-opacity-20 ${j[p.color].split(" ")[1]}`,children:r.jsx(D,{className:`w-4 h-4 ${j[p.color].split(" ")[0]}`})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:p.name}),r.jsxs("div",{className:"text-gray-400 text-sm",children:[u.count," поръчки (",_.toFixed(1),"%)"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-white font-bold",children:[u.revenue.toFixed(2)," лв"]}),r.jsxs("div",{className:"text-gray-400 text-sm",children:[v.toFixed(1),"%"]})]})]},u.method)})}),r.jsx("div",{className:"bg-gray-700 rounded-lg p-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Общо оборот:"}),r.jsxs("span",{className:"text-white font-bold",children:[P.toFixed(2)," лв"]})]})})]})},Lf=({isOpen:f,onClose:P,transactions:d})=>{const[M,k]=O.useState({startDate:void 0,endDate:void 0,cashier:"",paymentMethod:"all",minAmount:void 0,maxAmount:void 0}),[u,p]=O.useState(""),D=O.useMemo(()=>d.filter(T=>{if(M.startDate){const w=new Date(M.startDate);if(w.setHours(0,0,0,0),new Date(T.timestamp)<w)return!1}if(M.endDate){const w=new Date(M.endDate);if(w.setHours(23,59,59,999),new Date(T.timestamp)>w)return!1}if(M.paymentMethod&&M.paymentMethod!=="all"&&T.paymentMethod!==M.paymentMethod||M.minAmount&&T.total<M.minAmount||M.maxAmount&&T.total>M.maxAmount||M.cashier&&T.cashier!==M.cashier)return!1;if(u){const w=u.toLowerCase(),h=T.id.toLowerCase().includes(w),$=T.items.some(H=>H.name.toLowerCase().includes(w));if(!h&&!$)return!1}return!0}),[d,M,u]),v=O.useMemo(()=>{const T=D.reduce((H,C)=>H+C.total,0),w=D.length,h=w>0?T/w:0,$={cash:{count:0,revenue:0},card:{count:0,revenue:0},digital:{count:0,revenue:0}};return D.forEach(H=>{$[H.paymentMethod].count++,$[H.paymentMethod].revenue+=H.total}),{totalRevenue:T,totalTransactions:w,averageOrder:h,paymentMethods:$}},[D]);if(!f)return null;const _=T=>new Intl.DateTimeFormat("bg-BG",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(T),j=T=>({cash:"В брой",card:"Карта",digital:"Дигитално"})[T]||T,E=()=>{const T=window.open("","_blank");if(T){const w=`
        <html>
          <head>
            <title>Справка за продажби</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; }
              .header { text-align: center; margin-bottom: 30px; }
              .summary { background: #f5f5f5; padding: 15px; margin-bottom: 20px; }
              .transactions { width: 100%; border-collapse: collapse; }
              .transactions th, .transactions td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              .transactions th { background-color: #f2f2f2; }
              .total { font-weight: bold; background-color: #e8f5e8; }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Справка за продажби</h1>
              <p>Генерирана на: ${new Date().toLocaleString("bg-BG")}</p>
            </div>
            
            <div class="summary">
              <h3>Обобщение</h3>
              <p>Общо транзакции: ${v.totalTransactions}</p>
              <p>Общ оборот: ${v.totalRevenue.toFixed(2)} лв</p>
              <p>Средна поръчка: ${v.averageOrder.toFixed(2)} лв</p>
            </div>
            
            <table class="transactions">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Дата</th>
                  <th>Сума</th>
                  <th>Плащане</th>
                  <th>Артикули</th>
                </tr>
              </thead>
              <tbody>
                ${D.map(h=>`
                  <tr>
                    <td>#${h.id.slice(-6)}</td>
                    <td>${_(h.timestamp)}</td>
                    <td>${h.total.toFixed(2)} лв</td>
                    <td>${j(h.paymentMethod)}</td>
                    <td>${h.items.length}</td>
                  </tr>
                `).join("")}
                <tr class="total">
                  <td colspan="2">ОБЩО</td>
                  <td>${v.totalRevenue.toFixed(2)} лв</td>
                  <td>${v.totalTransactions} транзакции</td>
                  <td>-</td>
                </tr>
              </tbody>
            </table>
          </body>
        </html>
      `;T.document.write(w),T.document.close(),T.print()}},g=()=>{const T=["ID","Дата","Сума","Плащане","Артикули","Детайли"],w=D.map(b=>[`#${b.id.slice(-6)}`,_(b.timestamp),b.total.toFixed(2),j(b.paymentMethod),b.items.length.toString(),b.items.map(U=>`${U.name} x${U.quantity}`).join("; ")]),h=[T,...w].map(b=>b.map(U=>`"${U}"`).join(",")).join(`
`),$=new Blob([h],{type:"text/csv;charset=utf-8;"}),H=document.createElement("a"),C=URL.createObjectURL($);H.setAttribute("href",C),H.setAttribute("download",`sales-report-${new Date().toISOString().split("T")[0]}.csv`),H.style.visibility="hidden",document.body.appendChild(H),H.click(),document.body.removeChild(H)},F=()=>{k({startDate:void 0,endDate:void 0,cashier:"",paymentMethod:"all",minAmount:void 0,maxAmount:void 0}),p("")};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:"Справки и архив"}),r.jsx("button",{onClick:P,className:"text-gray-400 hover:text-white p-1 rounded transition-colors",children:r.jsx(Qa,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-white font-medium flex items-center",children:[r.jsx(yf,{className:"w-4 h-4 mr-2"}),"Филтри"]}),r.jsx("button",{onClick:F,className:"text-gray-400 hover:text-white text-sm",children:"Изчисти всички"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"От дата"}),r.jsx("input",{type:"date",value:M.startDate?M.startDate.toISOString().split("T")[0]:"",onChange:T=>k(w=>({...w,startDate:T.target.value?new Date(T.target.value):void 0})),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"До дата"}),r.jsx("input",{type:"date",value:M.endDate?M.endDate.toISOString().split("T")[0]:"",onChange:T=>k(w=>({...w,endDate:T.target.value?new Date(T.target.value):void 0})),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Метод на плащане"}),r.jsxs("select",{value:M.paymentMethod||"all",onChange:T=>k(w=>({...w,paymentMethod:T.target.value==="all"?"all":T.target.value})),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-600",children:[r.jsx("option",{value:"all",children:"Всички"}),r.jsx("option",{value:"cash",children:"В брой"}),r.jsx("option",{value:"card",children:"Карта"}),r.jsx("option",{value:"digital",children:"Дигитално"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Мин. сума"}),r.jsx("input",{type:"number",step:"0.01",value:M.minAmount||"",onChange:T=>k(w=>({...w,minAmount:T.target.value?parseFloat(T.target.value):void 0})),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-600",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Макс. сума"}),r.jsx("input",{type:"number",step:"0.01",value:M.maxAmount||"",onChange:T=>k(w=>({...w,maxAmount:T.target.value?parseFloat(T.target.value):void 0})),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-600",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Търсене"}),r.jsxs("div",{className:"relative",children:[r.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",value:u,onChange:T=>p(T.target.value),className:"w-full pl-10 pr-4 p-2 bg-gray-600 border border-gray-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-600",placeholder:"ID или продукт..."})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("div",{className:"text-gray-400 text-sm",children:"Транзакции"}),r.jsx("div",{className:"text-white text-xl font-bold",children:v.totalTransactions})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("div",{className:"text-gray-400 text-sm",children:"Общ оборот"}),r.jsxs("div",{className:"text-emerald-400 text-xl font-bold",children:[v.totalRevenue.toFixed(2)," лв"]})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("div",{className:"text-gray-400 text-sm",children:"Средна поръчка"}),r.jsxs("div",{className:"text-white text-xl font-bold",children:[v.averageOrder.toFixed(2)," лв"]})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("div",{className:"text-gray-400 text-sm",children:"Експорт"}),r.jsxs("div",{className:"flex space-x-2 mt-2",children:[r.jsx("button",{onClick:E,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm transition-colors",children:"PDF"}),r.jsx("button",{onClick:g,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors",children:"CSV"})]})]})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-600",children:r.jsxs("h3",{className:"text-white font-medium",children:["Транзакции (",D.length,")"]})}),r.jsx("div",{className:"overflow-x-auto max-h-96",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-600 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-3 text-gray-300 font-medium",children:"ID"}),r.jsx("th",{className:"text-left p-3 text-gray-300 font-medium",children:"Дата"}),r.jsx("th",{className:"text-left p-3 text-gray-300 font-medium",children:"Сума"}),r.jsx("th",{className:"text-left p-3 text-gray-300 font-medium",children:"Плащане"}),r.jsx("th",{className:"text-left p-3 text-gray-300 font-medium",children:"Артикули"})]})}),r.jsx("tbody",{children:D.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:5,className:"text-center p-8 text-gray-500",children:[r.jsx(Bn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:"Няма транзакции за показване"})]})}):D.map(T=>r.jsxs("tr",{className:"border-b border-gray-600 hover:bg-gray-650",children:[r.jsxs("td",{className:"p-3 text-white font-mono",children:["#",T.id.slice(-6)]}),r.jsx("td",{className:"p-3 text-gray-300",children:_(T.timestamp)}),r.jsxs("td",{className:"p-3 text-emerald-400 font-bold",children:[T.total.toFixed(2)," лв"]}),r.jsx("td",{className:"p-3 text-gray-300",children:j(T.paymentMethod)}),r.jsx("td",{className:"p-3 text-gray-300",children:r.jsx("div",{className:"max-w-xs",children:r.jsxs("div",{className:"text-sm",children:[T.items.slice(0,2).map(w=>r.jsxs("div",{children:[w.name," x",w.quantity]},w.id)),T.items.length>2&&r.jsxs("div",{className:"text-gray-500",children:["+",T.items.length-2," още"]})]})})})]},T.id))})]})})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsxs("button",{onClick:E,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[r.jsx(Bn,{className:"w-4 h-4"}),r.jsx("span",{children:"Експорт PDF"})]}),r.jsxs("button",{onClick:g,className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[r.jsx(Us,{className:"w-4 h-4"}),r.jsx("span",{children:"Експорт CSV"})]})]})]})})},Of=({transactions:f,stats:P})=>{const[d,M]=O.useState(!1),k=f.slice(0,10),u=v=>`${v.toFixed(2)} лв`,p=v=>new Intl.DateTimeFormat("bg-BG",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(v),D=v=>({cash:"В брой",card:"Карта",digital:"Дигитално"})[v]||v;return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Дашборд"}),r.jsx("p",{className:"text-gray-400",children:"Преглед на продажби и статистики"})]}),r.jsxs("button",{onClick:()=>M(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[r.jsx(Bn,{className:"w-4 h-4"}),r.jsx("span",{children:"Справки и архив"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"Общо поръчки"}),r.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:P.totalTransactions})]}),r.jsx("div",{className:"bg-blue-600 bg-opacity-20 p-3 rounded-lg",children:r.jsx(As,{className:"w-6 h-6 text-blue-400"})})]}),r.jsx("div",{className:"mt-4 flex items-center text-sm",children:r.jsxs("span",{className:"text-emerald-400",children:["Днес: ",P.todayTransactions]})})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"Общ оборот"}),r.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:u(P.totalRevenue)})]}),r.jsx("div",{className:"bg-emerald-600 bg-opacity-20 p-3 rounded-lg",children:r.jsx(gf,{className:"w-6 h-6 text-emerald-400"})})]}),r.jsx("div",{className:"mt-4 flex items-center text-sm",children:r.jsxs("span",{className:"text-emerald-400",children:["Днес: ",u(P.todayRevenue)]})})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"Средна поръчка"}),r.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:u(P.averageOrderValue)})]}),r.jsx("div",{className:"bg-purple-600 bg-opacity-20 p-3 rounded-lg",children:r.jsx(Jt,{className:"w-6 h-6 text-purple-400"})})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[r.jsx(Jt,{className:"w-3 h-3 text-emerald-400 mr-1"}),r.jsx("span",{className:"text-emerald-400",children:"+12.5%"})]})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"Активно време"}),r.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:"8ч 24м"})]}),r.jsx("div",{className:"bg-orange-600 bg-opacity-20 p-3 rounded-lg",children:r.jsx(Zc,{className:"w-6 h-6 text-orange-400"})})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[r.jsx(Va,{className:"w-3 h-3 text-gray-400 mr-1"}),r.jsx("span",{className:"text-gray-400",children:"Днес"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:[r.jsx("div",{className:"p-6 border-b border-gray-700",children:r.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[r.jsx(Pr,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Продажби по часове (днес)"]})}),r.jsx("div",{className:"p-6",children:r.jsx(Rf,{data:P.hourlyStats})})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:[r.jsx("div",{className:"p-6 border-b border-gray-700",children:r.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[r.jsx(wf,{className:"w-5 h-5 mr-2 text-blue-400"}),"Методи на плащане"]})}),r.jsx("div",{className:"p-6",children:r.jsx(zf,{data:P.paymentMethodStats})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:[r.jsx("div",{className:"p-6 border-b border-gray-700",children:r.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[r.jsx(As,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Последни поръчки"]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:k.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(As,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:"Няма поръчки за показване"})]}):k.map(v=>r.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("span",{className:"text-white font-medium",children:["Поръчка #",v.id.slice(-6)]}),r.jsx("span",{className:"text-emerald-400 font-bold",children:u(v.total)})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[r.jsx("span",{children:p(v.timestamp)}),r.jsx("span",{children:D(v.paymentMethod)})]}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[v.items.length," артикула"]})]})},v.id))})})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:[r.jsx("div",{className:"p-6 border-b border-gray-700",children:r.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[r.jsx(Xc,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Топ продукти"]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:P.topProducts.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Xc,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:"Няма данни за продукти"})]}):P.topProducts.map((v,_)=>r.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-700 rounded-lg",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${_===0?"bg-yellow-600 text-white":_===1?"bg-gray-500 text-white":_===2?"bg-orange-600 text-white":"bg-gray-600 text-gray-300"}`,children:_+1})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white font-medium",children:v.product.name}),r.jsx("span",{className:"text-emerald-400 font-bold",children:u(v.revenue)})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[r.jsx("span",{children:v.product.category}),r.jsxs("span",{children:[v.quantity," продадени"]})]})]})]},v.product.id))})})]})]}),r.jsx(Lf,{isOpen:d,onClose:()=>M(!1),transactions:f})]})},If=({product:f,categories:P,onSave:d,onClose:M})=>{const[k,u]=O.useState({name:"",price:"",category:"",stock:"",discount:"",image:""}),[p,D]=O.useState({});O.useEffect(()=>{f&&u({name:f.name,price:f.price.toString(),category:f.category,stock:f.stock?.toString()||"",discount:f.discount?.toString()||"",image:f.image||""})},[f]);const v=()=>{const E={};return k.name.trim()||(E.name="Името е задължително"),(!k.price||parseFloat(k.price)<=0)&&(E.price="Цената трябва да бъде положително число"),k.category||(E.category="Категорията е задължителна"),k.stock&&parseInt(k.stock)<0&&(E.stock="Наличността не може да бъде отрицателна"),k.discount&&(parseFloat(k.discount)<0||parseFloat(k.discount)>100)&&(E.discount="Отстъпката трябва да бъде между 0 и 100%"),D(E),Object.keys(E).length===0},_=E=>{if(E.preventDefault(),!v())return;const g={name:k.name.trim(),price:parseFloat(k.price),category:k.category,stock:k.stock?parseInt(k.stock):void 0,discount:k.discount?parseFloat(k.discount):void 0,image:k.image||void 0};d(g)},j=E=>{const g=E.target.files?.[0];if(g){const F=new FileReader;F.onload=T=>{u(w=>({...w,image:T.target?.result}))},F.readAsDataURL(g)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:f?"Редактиране на продукт":"Добавяне на продукт"}),r.jsx("button",{onClick:M,className:"text-gray-400 hover:text-white p-1 rounded transition-colors",children:r.jsx(Qa,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:_,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Снимка на продукта"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-700 rounded-lg flex items-center justify-center overflow-hidden",children:k.image?r.jsx("img",{src:k.image,alt:"Product",className:"w-full h-full object-cover"}):r.jsx(Ae,{className:"w-8 h-8 text-gray-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden",id:"image-upload"}),r.jsxs("label",{htmlFor:"image-upload",className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-lg cursor-pointer transition-colors flex items-center space-x-2 text-sm",children:[r.jsx(bf,{className:"w-4 h-4"}),r.jsx("span",{children:"Качи снимка"})]}),r.jsx("input",{type:"url",placeholder:"Или въведи URL на снимка",value:k.image,onChange:E=>u(g=>({...g,image:E.target.value})),className:"w-full mt-2 p-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:border-transparent text-sm"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Име на продукта *"}),r.jsx("input",{type:"text",value:k.name,onChange:E=>u(g=>({...g,name:E.target.value})),className:`w-full p-3 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:border-transparent ${p.name?"border-red-500":"border-gray-600"}`,placeholder:"Въведи име на продукта"}),p.name&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.name})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Цена (лв) *"}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:k.price,onChange:E=>u(g=>({...g,price:E.target.value})),className:`w-full p-3 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:border-transparent ${p.price?"border-red-500":"border-gray-600"}`,placeholder:"0.00"}),p.price&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.price})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Отстъпка (%)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:k.discount,onChange:E=>u(g=>({...g,discount:E.target.value})),className:`w-full p-3 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:border-transparent pr-8 ${p.discount?"border-red-500":"border-gray-600"}`,placeholder:"0"}),r.jsx(Ha,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),p.discount&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.discount})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Категория *"}),r.jsxs("select",{value:k.category,onChange:E=>u(g=>({...g,category:E.target.value})),className:`w-full p-3 bg-gray-700 border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:border-transparent ${p.category?"border-red-500":"border-gray-600"}`,children:[r.jsx("option",{value:"",children:"Избери категория"}),P.map(E=>r.jsx("option",{value:E.name,children:E.name},E.id))]}),p.category&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.category})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Наличност"}),r.jsx("input",{type:"number",min:"0",value:k.stock,onChange:E=>u(g=>({...g,stock:E.target.value})),className:`w-full p-3 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:border-transparent ${p.stock?"border-red-500":"border-gray-600"}`,placeholder:"Неограничена"}),p.stock&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.stock})]})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"submit",className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:f?"Запази промените":"Добави продукт"}),r.jsx("button",{type:"button",onClick:M,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:"Отказ"})]})]})]})})},Ff=({products:f,categories:P,onEdit:d,onDelete:M})=>{const[k,u]=O.useState(""),[p,D]=O.useState("Всички"),v=["Всички",...P.map(g=>g.name)],_=f.filter(g=>{const F=g.name.toLowerCase().includes(k.toLowerCase()),T=p==="Всички"||g.category===p;return F&&T}),j=(g,F)=>F?g*(1-F/100):g,E=g=>{window.confirm(`Сигурни ли сте, че искате да изтриете "${g.name}"?`)&&M(g.id)};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Търсене на продукти...",value:k,onChange:g=>u(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:border-transparent"})]}),r.jsx("select",{value:p,onChange:g=>D(g.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:border-transparent",children:v.map(g=>r.jsx("option",{value:g,children:g},g))})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.length===0?r.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500",children:[r.jsx(Ae,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg mb-2",children:"Няма намерени продукти"}),r.jsx("p",{className:"text-sm",children:"Опитайте с различни критерии за търсене"})]}):_.map(g=>{const F=j(g.price,g.discount),T=g.discount&&g.discount>0;return r.jsx("div",{className:"bg-gray-700 rounded-lg p-4 hover:bg-gray-650 transition-colors border border-gray-600",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0",children:g.image?r.jsx("img",{src:g.image,alt:g.name,className:"w-full h-full object-cover"}):r.jsx(Ae,{className:"w-6 h-6 text-gray-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-white text-sm truncate",children:g.name}),r.jsx("p",{className:"text-gray-400 text-xs",children:g.category})]}),r.jsxs("div",{className:"flex space-x-1 ml-2",children:[r.jsx("button",{onClick:()=>d(g),className:"p-1 text-blue-400 hover:text-blue-300 hover:bg-blue-600 hover:bg-opacity-20 rounded transition-colors",title:"Редактиране",children:r.jsx(ru,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>E(g),className:"p-1 text-red-400 hover:text-red-300 hover:bg-red-600 hover:bg-opacity-20 rounded transition-colors",title:"Изтриване",children:r.jsx(pn,{className:"w-3 h-3"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-2",children:T?r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsxs("span",{className:"text-emerald-400 font-bold text-sm",children:[F.toFixed(2)," лв"]}),r.jsxs("span",{className:"text-gray-500 line-through text-xs",children:[g.price.toFixed(2)," лв"]}),r.jsxs("div",{className:"bg-red-600 text-white px-1 py-0.5 rounded text-xs flex items-center",children:[r.jsx(Ha,{className:"w-2 h-2 mr-0.5"}),g.discount]})]}):r.jsxs("span",{className:"text-emerald-400 font-bold text-sm",children:[g.price.toFixed(2)," лв"]})}),g.stock!==void 0&&r.jsx("span",{className:"text-gray-400 text-xs",children:g.stock>0?`${g.stock} бр.`:"Изчерпан"})]})]})]})},g.id)})}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[r.jsxs("span",{children:["Общо продукти: ",_.length]}),r.jsxs("span",{children:["Показани: ",_.length," от ",f.length]})]})})]})},$f=({categories:f,onAdd:P,onUpdate:d,onDelete:M})=>{const[k,u]=O.useState(!1),[p,D]=O.useState(null),[v,_]=O.useState({name:"",description:"",color:"blue"}),j=[{name:"blue",label:"Синьо",class:"bg-blue-600"},{name:"green",label:"Зелено",class:"bg-green-600"},{name:"purple",label:"Лилаво",class:"bg-purple-600"},{name:"red",label:"Червено",class:"bg-red-600"},{name:"yellow",label:"Жълто",class:"bg-yellow-600"},{name:"pink",label:"Розово",class:"bg-pink-600"},{name:"indigo",label:"Индиго",class:"bg-indigo-600"},{name:"orange",label:"Оранжево",class:"bg-orange-600"}],E=h=>{D(h),_({name:h.name,description:h.description||"",color:h.color||"blue"}),u(!0)},g=h=>{window.confirm(`Сигурни ли сте, че искате да изтриете категорията "${h.name}"?`)&&M(h.id)},F=h=>{if(h.preventDefault(),!v.name.trim())return;const $={name:v.name.trim(),description:v.description.trim()||void 0,color:v.color};p?d(p.id,$):P($),u(!1),D(null),_({name:"",description:"",color:"blue"})},T=()=>{u(!1),D(null),_({name:"",description:"",color:"blue"})},w=h=>j.find($=>$.name===h)?.class||"bg-blue-600";return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Управление на категории"}),r.jsxs("button",{onClick:()=>u(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[r.jsx(hn,{className:"w-4 h-4"}),r.jsx("span",{children:"Добави категория"})]})]}),k&&r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-6 border border-gray-600",children:[r.jsx("h4",{className:"text-white font-medium mb-4",children:p?"Редактиране на категория":"Добавяне на категория"}),r.jsxs("form",{onSubmit:F,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Име на категорията *"}),r.jsx("input",{type:"text",value:v.name,onChange:h=>_($=>({...$,name:h.target.value})),className:"w-full p-3 bg-gray-600 border border-gray-500 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:border-transparent",placeholder:"Въведи име на категорията",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Цвят"}),r.jsx("div",{className:"flex space-x-2",children:j.map(h=>r.jsx("button",{type:"button",onClick:()=>_($=>({...$,color:h.name})),className:`w-8 h-8 rounded-full ${h.class} ${v.color===h.name?"ring-2 ring-white ring-offset-2 ring-offset-gray-700":""}`,title:h.label},h.name))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Описание"}),r.jsx("textarea",{value:v.description,onChange:h=>_($=>({...$,description:h.target.value})),className:"w-full p-3 bg-gray-600 border border-gray-500 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:border-transparent",placeholder:"Кратко описание на категорията",rows:2})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:p?"Запази промените":"Добави категория"}),r.jsx("button",{type:"button",onClick:T,className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Отказ"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.length===0?r.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500",children:[r.jsx(su,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg mb-2",children:"Няма създадени категории"}),r.jsx("p",{className:"text-sm",children:"Добавете първата категория за започване"})]}):f.map(h=>r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 hover:bg-gray-650 transition-colors border border-gray-600",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-4 h-4 rounded-full ${w(h.color||"blue")}`}),r.jsx("h4",{className:"font-medium text-white",children:h.name})]}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("button",{onClick:()=>E(h),className:"p-1 text-blue-400 hover:text-blue-300 hover:bg-blue-600 hover:bg-opacity-20 rounded transition-colors",title:"Редактиране",children:r.jsx(ru,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>g(h),className:"p-1 text-red-400 hover:text-red-300 hover:bg-red-600 hover:bg-opacity-20 rounded transition-colors",title:"Изтриване",children:r.jsx(pn,{className:"w-4 h-4"})})]})]}),h.description&&r.jsx("p",{className:"text-gray-400 text-sm",children:h.description})]},h.id))}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700",children:r.jsx("div",{className:"flex items-center justify-between text-sm text-gray-400",children:r.jsxs("span",{children:["Общо категории: ",f.length]})})})]})},Af=({products:f,categories:P,onAddProduct:d,onUpdateProduct:M,onDeleteProduct:k,onAddCategory:u,onUpdateCategory:p,onDeleteCategory:D})=>{const[v,_]=O.useState("products"),[j,E]=O.useState(!1),[g,F]=O.useState(null),T=[{id:"products",name:"Продукти",icon:Ae},{id:"categories",name:"Категории",icon:su}],w=H=>{F(H),E(!0)},h=()=>{E(!1),F(null)},$=H=>{g?M(g.id,H):d(H),h()};return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Управление на продукти"}),r.jsx("p",{className:"text-gray-400",children:"Добавяне, редактиране и изтриване на продукти и категории"})]}),v==="products"&&r.jsxs("button",{onClick:()=>E(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[r.jsx(hn,{className:"w-4 h-4"}),r.jsx("span",{children:"Добави продукт"})]})]}),r.jsx("div",{className:"flex space-x-1 bg-gray-800 p-1 rounded-lg",children:T.map(H=>{const C=H.icon,b=v===H.id;return r.jsxs("button",{onClick:()=>_(H.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 flex-1 justify-center ${b?"bg-emerald-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[r.jsx(C,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:H.name})]},H.id)})}),r.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:v==="products"?r.jsx(Ff,{products:f,categories:P,onEdit:w,onDelete:k}):r.jsx($f,{categories:P,onAdd:u,onUpdate:p,onDelete:D})}),j&&r.jsx(If,{product:g,categories:P,onSave:$,onClose:h})]})},Uf=({products:f,onUpdateStock:P,onCreateOrder:d,onCreateRevision:M})=>{const[k,u]=O.useState(()=>f.map(C=>({id:C.id,name:C.name,category:C.category,currentStock:C.stock??0,actualStock:C.stock??0,orderQuantity:0,hasDiscrepancy:!1}))),[p,D]=O.useState(!1),[v,_]=O.useState(null),[j,E]=O.useState(""),g=(C,b)=>{const U=parseInt(b)||0;u(V=>V.map(B=>{if(B.id===C){const W=U!==B.currentStock;return{...B,actualStock:U,hasDiscrepancy:W}}return B}))},F=(C,b)=>{const U=parseInt(b)||0;u(V=>V.map(B=>B.id===C?{...B,orderQuantity:U}:B))},T=()=>{const C=k.filter(B=>B.hasDiscrepancy),b=k.map(B=>({productId:B.id,productName:B.name,category:B.category,expectedStock:B.currentStock,actualStock:B.actualStock,difference:B.actualStock-B.currentStock,orderQuantity:B.orderQuantity})),U={totalProducts:k.length,productsWithDifferences:C.length,totalDifferences:C.reduce((B,W)=>B+Math.abs(W.actualStock-W.currentStock),0),totalOrdered:k.reduce((B,W)=>B+W.orderQuantity,0)};return{items:b,summary:U,performedBy:"admin",notes:j||void 0}},w=async()=>{D(!0),_(null);try{await new Promise(b=>setTimeout(b,1e3));const C=T();M(C),k.forEach(b=>{b.hasDiscrepancy&&P(b.id,b.actualStock)}),_("Ревизията е запазена успешно!"),setTimeout(()=>_(null),3e3)}catch{_("Грешка при запазване на ревизията!"),setTimeout(()=>_(null),3e3)}finally{D(!1)}},h=async()=>{D(!0),_(null);try{await new Promise(U=>setTimeout(U,1500));const C=T();M(C),k.forEach(U=>{U.hasDiscrepancy&&P(U.id,U.actualStock)});const b=k.filter(U=>U.orderQuantity>0);if(b.length>0){const V={items:b.map(B=>({productId:B.id,productName:B.name,category:B.category,quantity:B.orderQuantity,currentStock:B.actualStock})),totalItems:b.reduce((B,W)=>B+W.orderQuantity,0),status:"pending",notes:`Поръчка създадена от ревизия на ${new Date().toLocaleDateString("bg-BG")}`,orderedBy:"admin"};d(V),_(`Ревизията е запазена и поръчката за ${b.length} продукта е създадена!`)}else _("Ревизията е запазена успешно!");setTimeout(()=>_(null),3e3)}catch{_("Грешка при запазване и поръчка!"),setTimeout(()=>_(null),3e3)}finally{D(!1)}},$=k.filter(C=>C.hasDiscrepancy),H=k.filter(C=>C.orderQuantity>0);return r.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Ревизия на наличността"}),r.jsx("p",{className:"text-gray-400",children:"Проверете и коригирайте наличността на продуктите"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ae,{className:"w-8 h-8 text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Общо продукти"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:k.length})]})]})}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Zt,{className:"w-8 h-8 text-orange-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Разлики"}),r.jsx("p",{className:"text-2xl font-bold text-orange-400",children:$.length})]})]})}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Bs,{className:"w-8 h-8 text-emerald-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"За поръчка"}),r.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:H.length})]})]})})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6 border border-gray-700",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Бележки за ревизията"}),r.jsx("textarea",{value:j,onChange:C=>E(C.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600",rows:3,placeholder:"Добавете бележки за ревизията (по желание)..."})]}),v&&r.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-3 ${v.includes("успешно")?"bg-emerald-600 text-white":"bg-red-600 text-white"}`,children:[r.jsx(Un,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:v})]}),r.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Продукт"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Категория"}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-300",children:"Налични"}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-300",children:"Има"}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-300",children:"Поръчкай"}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-300",children:"Статус"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-700",children:k.map(C=>r.jsxs("tr",{className:`hover:bg-gray-750 transition-colors ${C.hasDiscrepancy?"bg-orange-900/20":""}`,children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded-lg flex items-center justify-center",children:r.jsx(Ae,{className:"w-4 h-4 text-gray-400"})}),r.jsx("div",{children:r.jsx("p",{className:"font-medium text-white",children:C.name})})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-gray-300",children:C.category})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("span",{className:"text-gray-300 font-medium",children:C.currentStock})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:C.actualStock,onChange:b=>g(C.id,b.target.value),className:`w-20 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-center focus:outline-none focus:ring-2 focus:ring-emerald-600 ${C.hasDiscrepancy?"border-orange-500 bg-orange-900/20":""}`})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("input",{type:"number",min:"0",value:C.orderQuantity,onChange:b=>F(C.id,b.target.value),className:"w-20 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-center focus:outline-none focus:ring-2 focus:ring-emerald-600"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:C.hasDiscrepancy?r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(Zt,{className:"w-4 h-4 text-orange-400"}),r.jsx("span",{className:"text-orange-400 text-sm font-medium",children:"Разлика"})]}):r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(Un,{className:"w-4 h-4 text-emerald-400"}),r.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:"OK"})]})})]},C.id))})]})})}),r.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[r.jsxs("button",{onClick:w,disabled:p,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-4 px-6 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(kf,{className:"w-5 h-5"}),r.jsx("span",{children:"Запази ревизия"})]}),r.jsxs("button",{onClick:h,disabled:p,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-4 px-6 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Bs,{className:"w-5 h-5"}),r.jsx("span",{children:"Запази ревизия и поръчай"})]})]})]})})},Bf=({order:f,isOpen:P,onClose:d,onPrint:M,onExportPDF:k,onExportCSV:u,onUpdateStatus:p})=>{const[D,v]=O.useState(""),[_,j]=O.useState(!1);if(!P||!f)return null;const E=h=>{switch(h){case"pending":return"text-yellow-400";case"ordered":return"text-blue-400";case"received":return"text-emerald-400";case"cancelled":return"text-red-400";default:return"text-gray-400"}},g=h=>{switch(h){case"pending":return"Чакаща";case"ordered":return"Поръчана";case"received":return"Получена";case"cancelled":return"Отказана";default:return"Неизвестен"}},F=h=>{h==="cancelled"?j(!0):p(h)},T=()=>{D.trim()&&(p("cancelled",D),v(""),j(!1))},w=f.status==="received";return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Поръчка #",f.id]}),r.jsxs("p",{className:"text-gray-400",children:[new Date(f.timestamp).toLocaleDateString("bg-BG")," - ",new Date(f.timestamp).toLocaleTimeString("bg-BG")]})]}),r.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white p-2 rounded-lg hover:bg-gray-700 transition-colors",children:"✕"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Информация за поръчката"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Статус:"}),r.jsx("p",{className:`font-medium ${E(f.status)}`,children:g(f.status)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Общо продукти:"}),r.jsx("p",{className:"text-emerald-400 font-bold text-lg",children:f.totalItems})]}),f.orderedBy&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Поръчана от:"}),r.jsx("p",{className:"text-white",children:f.orderedBy})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Брой артикули:"}),r.jsx("p",{className:"text-white",children:f.items.length})]})]}),f.notes&&r.jsxs("div",{className:"mt-3",children:[r.jsx("span",{className:"text-gray-400",children:"Бележки:"}),r.jsx("p",{className:"text-white text-sm mt-1",children:f.notes})]}),f.cancellationReason&&r.jsxs("div",{className:"mt-3",children:[r.jsx("span",{className:"text-gray-400",children:"Причина за отказ:"}),r.jsx("p",{className:"text-red-400 text-sm mt-1",children:f.cancellationReason})]})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Поръчани продукти"}),r.jsx("div",{className:"space-y-3",children:f.items.map((h,$)=>r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-600 last:border-b-0",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center",children:r.jsx(Ae,{className:"w-4 h-4 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:h.productName}),r.jsx("p",{className:"text-gray-400 text-sm",children:h.category})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-white font-medium",children:[h.quantity," бр."]}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["Налично: ",h.currentStock]})]})]},$))})]}),!w&&r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Промени статус"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{onClick:()=>F("pending"),disabled:f.status==="pending",className:`p-2 rounded-lg text-sm font-medium transition-colors ${f.status==="pending"?"bg-yellow-600 text-white cursor-not-allowed":"bg-gray-600 text-gray-300 hover:bg-yellow-600 hover:text-white"}`,children:"Чакаща"}),r.jsx("button",{onClick:()=>F("ordered"),disabled:f.status==="ordered",className:`p-2 rounded-lg text-sm font-medium transition-colors ${f.status==="ordered"?"bg-blue-600 text-white cursor-not-allowed":"bg-gray-600 text-gray-300 hover:bg-blue-600 hover:text-white"}`,children:"Поръчана"}),r.jsx("button",{onClick:()=>F("received"),disabled:f.status==="received",className:`p-2 rounded-lg text-sm font-medium transition-colors ${f.status==="received"?"bg-emerald-600 text-white cursor-not-allowed":"bg-gray-600 text-gray-300 hover:bg-emerald-600 hover:text-white"}`,children:"Получена"}),r.jsx("button",{onClick:()=>F("cancelled"),disabled:f.status==="cancelled",className:`p-2 rounded-lg text-sm font-medium transition-colors ${f.status==="cancelled"?"bg-red-600 text-white cursor-not-allowed":"bg-gray-600 text-gray-300 hover:bg-red-600 hover:text-white"}`,children:"Отказана"})]})]}),_&&r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Причина за отказ"}),r.jsx("textarea",{value:D,onChange:h=>v(h.target.value),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-600",rows:3,placeholder:"Въведете причина за отказ на поръчката..."}),r.jsxs("div",{className:"flex space-x-2 mt-3",children:[r.jsx("button",{onClick:T,disabled:!D.trim(),className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:"Откажи поръчката"}),r.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:"Отказ"})]})]}),w&&r.jsx("div",{className:"bg-emerald-600 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Un,{className:"w-5 h-5 text-white"}),r.jsx("p",{className:"text-white font-medium",children:"Поръчката е получена и количествата са добавени към склада"})]})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[r.jsxs("button",{onClick:M,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2 active:scale-95",children:[r.jsx(eu,{className:"w-5 h-5"}),r.jsx("span",{children:"Принтирай"})]}),r.jsxs("button",{onClick:k,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2 active:scale-95",children:[r.jsx(Us,{className:"w-5 h-5"}),r.jsx("span",{children:"PDF"})]}),r.jsxs("button",{onClick:u,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-3 px-4 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2 active:scale-95",children:[r.jsx(Us,{className:"w-5 h-5"}),r.jsx("span",{children:"CSV"})]})]})]})})})},Vf=({orders:f,products:P,onUpdateOrderStatus:d,onDeleteOrder:M,onUpdateProductStock:k})=>{const[u,p]=O.useState(null),[D,v]=O.useState(!1),[_,j]=O.useState(""),[E,g]=O.useState("all"),[F,T]=O.useState(new Set);O.useEffect(()=>{const W=f.filter(le=>le.status==="pending"||le.status==="ordered").map(le=>le.id);T(le=>{const pe=new Set(le);return W.forEach(ye=>pe.add(ye)),pe})},[f]);const w=W=>{p(W),v(!0)},h=()=>{v(!1),p(null)},$=(W,le)=>{if(u){const pe=u.status,ye={...u,status:W,cancellationReason:le||u.cancellationReason};d(u.id,W,le),W==="received"&&pe!=="received"&&(console.log("Обновяване на склада за получена поръчка:",u.id),u.items.forEach(je=>{const we=P.find(Te=>Te.id===je.productId);if(we){const Te=(we.stock||0)+je.quantity;console.log(`Продукт: ${je.productName}, Стар склад: ${we.stock}, Добавяне: ${je.quantity}, Нов склад: ${Te}`),k(je.productId,Te)}else console.log(`Продукт не намерен: ${je.productId}`)})),p(ye)}},H=()=>{if(u){const W=window.open("","_blank");W&&(W.document.write(`
          <html>
            <head>
              <title>Поръчка #${u.id}</title>
              <style>
                body { font-family: Arial, sans-serif; margin: 20px; }
                .header { text-align: center; margin-bottom: 30px; }
                .order-info { margin-bottom: 20px; }
                .items-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                .items-table th, .items-table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                .items-table th { background-color: #f2f2f2; }
                .total { margin-top: 20px; font-weight: bold; }
              </style>
            </head>
            <body>
              <div class="header">
                <h1>Поръчка #${u.id}</h1>
                <p>Дата: ${new Date(u.timestamp).toLocaleDateString("bg-BG")}</p>
                <p>Статус: ${u.status}</p>
              </div>
              
              <div class="order-info">
                <p><strong>Общо продукти:</strong> ${u.totalItems}</p>
                <p><strong>Брой артикули:</strong> ${u.items.length}</p>
                ${u.notes?`<p><strong>Бележки:</strong> ${u.notes}</p>`:""}
                ${u.cancellationReason?`<p><strong>Причина за отказ:</strong> ${u.cancellationReason}</p>`:""}
              </div>
              
              <table class="items-table">
                <thead>
                  <tr>
                    <th>Продукт</th>
                    <th>Категория</th>
                    <th>Количество</th>
                    <th>Налично</th>
                  </tr>
                </thead>
                <tbody>
                  ${u.items.map(le=>`
                    <tr>
                      <td>${le.productName}</td>
                      <td>${le.category}</td>
                      <td>${le.quantity} бр.</td>
                      <td>${le.currentStock}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
              
              <div class="total">
                <p>Общо количество: ${u.totalItems} бр.</p>
              </div>
            </body>
          </html>
        `),W.document.close(),W.print())}},C=()=>{if(u){const W={orderId:u.id,date:new Date(u.timestamp).toLocaleDateString("bg-BG"),status:u.status,totalItems:u.totalItems,items:u.items,notes:u.notes,cancellationReason:u.cancellationReason},le=new Blob([JSON.stringify(W,null,2)],{type:"application/json"}),pe=URL.createObjectURL(le),ye=document.createElement("a");ye.href=pe,ye.download=`order-${u.id}.json`,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),URL.revokeObjectURL(pe)}},b=()=>{if(u){const le=[["Продукт","Категория","Количество","Налично"].join(","),...u.items.map(we=>[we.productName,we.category,we.quantity,we.currentStock].join(","))].join(`
`),pe=new Blob([le],{type:"text/csv;charset=utf-8;"}),ye=URL.createObjectURL(pe),je=document.createElement("a");je.href=ye,je.download=`order-${u.id}.csv`,document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(ye)}},U=W=>{switch(W){case"pending":return"Чакаща";case"ordered":return"Поръчана";case"received":return"Получена";case"cancelled":return"Отказана";default:return"Неизвестен"}},V=W=>{switch(W){case"pending":return"bg-yellow-500";case"ordered":return"bg-blue-500";case"received":return"bg-emerald-500";case"cancelled":return"bg-red-500";default:return"bg-gray-500"}},B=f.filter(W=>{const le=W.id.includes(_)||W.items.some(ye=>ye.productName.toLowerCase().includes(_.toLowerCase())),pe=E==="all"||W.status===E;return le&&pe});return f.filter(W=>W.status==="pending"||W.status==="ordered").length,r.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Управление на поръчките"}),r.jsx("p",{className:"text-gray-400",children:"Проследяване и управление на поръчките от ревизията"})]}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Търсене"}),r.jsx("input",{type:"text",placeholder:"Търсене по номер на поръчка или продукт...",value:_,onChange:W=>j(W.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Статус"}),r.jsxs("select",{value:E,onChange:W=>g(W.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-600",children:[r.jsx("option",{value:"all",children:"Всички статуси"}),r.jsx("option",{value:"pending",children:"Чакащи"}),r.jsx("option",{value:"ordered",children:"Поръчани"}),r.jsx("option",{value:"received",children:"Получени"}),r.jsx("option",{value:"cancelled",children:"Отказани"})]})]})]})}),r.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:B.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(Bn,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Няма намерени поръчки"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Опитайте с различни критерии за търсене"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Поръчка №"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Дата"}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-300",children:"Статус"}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-300",children:"Продукти"}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-300",children:"Общо"}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-300",children:"Действия"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-700",children:B.map(W=>{const le=F.has(W.id),pe=W.status==="pending",ye=W.status==="ordered";return r.jsxs("tr",{className:`hover:bg-gray-750 transition-colors cursor-pointer ${le&&(pe||ye)?"animate-pulse-red":""}`,onClick:()=>w(W),children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:"font-medium text-white",children:["#",W.id]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Va,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-300",children:new Date(W.timestamp).toLocaleDateString("bg-BG")})]})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${V(W.status)} ${le&&(pe||ye)?"animate-status-pulse":""}`}),r.jsx("span",{className:`text-sm font-medium ${le&&(pe||ye)?"text-red-400 animate-status-pulse":"text-gray-300"}`,children:U(W.status)})]})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(Ae,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-300",children:W.items.length})]})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("span",{className:"text-emerald-400 font-bold",children:W.totalItems})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("button",{className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(Jc,{className:"w-4 h-4 text-gray-400"})})})]},W.id)})})]})})}),r.jsx(Bf,{order:u,isOpen:D,onClose:h,onPrint:H,onExportPDF:C,onExportCSV:b,onUpdateStatus:$})]})})},Hf=({revision:f,differences:P,isOpen:d,onClose:M,onUpdateDifferenceAction:k})=>{const[u,p]=O.useState(null),[D,v]=O.useState("");if(!d||!f)return null;const _=j=>{u&&(k(u.id,j,D),p(null),v(""))};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Ревизия #",f.id]}),r.jsxs("p",{className:"text-gray-400",children:[new Date(f.timestamp).toLocaleDateString("bg-BG")," - ",new Date(f.timestamp).toLocaleTimeString("bg-BG")]}),r.jsxs("p",{className:"text-gray-400",children:["Извършена от: ",f.performedBy]})]}),r.jsx("button",{onClick:M,className:"text-gray-400 hover:text-white p-2 rounded-lg hover:bg-gray-700 transition-colors",children:"✕"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ae,{className:"w-5 h-5 text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Общо продукти"}),r.jsx("p",{className:"text-white font-bold",children:f.summary.totalProducts})]})]})}),r.jsx("div",{className:"bg-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"w-5 h-5 text-orange-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"С разлики"}),r.jsx("p",{className:"text-orange-400 font-bold",children:f.summary.productsWithDifferences})]})]})}),r.jsx("div",{className:"bg-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(lu,{className:"w-5 h-5 text-red-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Общо разлики"}),r.jsx("p",{className:"text-red-400 font-bold",children:f.summary.totalDifferences})]})]})}),r.jsx("div",{className:"bg-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Jt,{className:"w-5 h-5 text-emerald-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Поръчани"}),r.jsx("p",{className:"text-emerald-400 font-bold",children:f.summary.totalOrdered})]})]})})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Разлики в ревизията"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-600",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-300",children:"Продукт"}),r.jsx("th",{className:"px-4 py-2 text-center text-sm font-medium text-gray-300",children:"Очаквано"}),r.jsx("th",{className:"px-4 py-2 text-center text-sm font-medium text-gray-300",children:"Реално"}),r.jsx("th",{className:"px-4 py-2 text-center text-sm font-medium text-gray-300",children:"Разлика"}),r.jsx("th",{className:"px-4 py-2 text-center text-sm font-medium text-gray-300",children:"%"}),r.jsx("th",{className:"px-4 py-2 text-center text-sm font-medium text-gray-300",children:"Действие"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-600",children:P.map(j=>r.jsxs("tr",{className:"hover:bg-gray-600 transition-colors",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:j.productName}),r.jsx("p",{className:"text-gray-400 text-sm",children:j.category})]})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"text-gray-300",children:j.expectedStock})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"text-gray-300",children:j.actualStock})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsxs("span",{className:`font-bold ${j.difference>0?"text-red-400":"text-green-400"}`,children:[j.difference>0?"+":"",j.difference]})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsxs("span",{className:"text-gray-300",children:[j.percentageDifference.toFixed(1),"%"]})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("button",{onClick:()=>p(j),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:j.action==="investigation"?"Разследване":j.action==="order"?"Поръчка":j.action==="adjustment"?"Коригиране":"Действие"})})]},j.id))})]})})]}),u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-gray-700 rounded-lg p-6 max-w-md w-full",children:[r.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Действие за ",u.productName]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Причина/Бележка"}),r.jsx("textarea",{value:D,onChange:j=>v(j.target.value),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-600",rows:3,placeholder:"Обяснете защо се е появила разликата..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{onClick:()=>_("investigation"),className:"p-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded text-sm transition-colors",children:"Разследване"}),r.jsx("button",{onClick:()=>_("order"),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:"Поръчка"}),r.jsx("button",{onClick:()=>_("adjustment"),className:"p-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded text-sm transition-colors",children:"Коригиране"}),r.jsx("button",{onClick:()=>_("none"),className:"p-2 bg-gray-600 hover:bg-gray-500 text-white rounded text-sm transition-colors",children:"Без действие"})]}),r.jsx("button",{onClick:()=>p(null),className:"w-full p-2 bg-gray-600 hover:bg-gray-500 text-white rounded text-sm transition-colors",children:"Отказ"})]})]})}),f.notes&&r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Бележки"}),r.jsx("p",{className:"text-gray-300",children:f.notes})]})]})})})},Wf=({revisions:f,differences:P,onViewRevision:d,onUpdateDifferenceAction:M})=>{const[k,u]=O.useState(null),[p,D]=O.useState(!1),[v,_]=O.useState(""),[j,E]=O.useState(""),[g,F]=O.useState(""),[T,w]=O.useState(!1),h=f.filter(b=>{const U=b.id.includes(v)||b.performedBy.toLowerCase().includes(v.toLowerCase())||b.items.some(W=>W.productName.toLowerCase().includes(v.toLowerCase())),V=(!j||new Date(b.timestamp)>=new Date(j))&&(!g||new Date(b.timestamp)<=new Date(g)),B=!T||b.summary.productsWithDifferences>0;return U&&V&&B}),$=b=>{u(b),D(!0)},H=()=>{D(!1),u(null)},C=b=>P.filter(U=>U.revisionId===b);return r.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"История на ревизиите"}),r.jsx("p",{className:"text-gray-400",children:"Проследяване на всички ревизии и разлики в склада"})]}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Търсене"}),r.jsx("input",{type:"text",placeholder:"Търсене по номер, извършител или продукт...",value:v,onChange:b=>_(b.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"От дата"}),r.jsx("input",{type:"date",value:j,onChange:b=>E(b.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"До дата"}),r.jsx("input",{type:"date",value:g,onChange:b=>F(b.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-600"})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:T,onChange:b=>w(b.target.checked),className:"w-4 h-4 text-emerald-600 bg-gray-700 border-gray-600 rounded focus:ring-emerald-600"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Само с разлики"})]})})]})}),r.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:h.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(Bn,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Няма намерени ревизии"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Опитайте с различни критерии за търсене"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Ревизия №"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Дата"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Извършител"}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-300",children:"Продукти"}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-300",children:"Разлики"}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-300",children:"Поръчки"}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-300",children:"Действия"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-700",children:h.map(b=>r.jsxs("tr",{className:"hover:bg-gray-750 transition-colors cursor-pointer",onClick:()=>$(b),children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:"font-medium text-white",children:["#",b.id]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Va,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-300",children:new Date(b.timestamp).toLocaleDateString("bg-BG")})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-gray-300",children:b.performedBy})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(Ae,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-300",children:b.summary.totalProducts})]})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(Zt,{className:"w-4 h-4 text-orange-400"}),r.jsx("span",{className:"text-orange-400 font-bold",children:b.summary.productsWithDifferences})]})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(Jt,{className:"w-4 h-4 text-emerald-400"}),r.jsx("span",{className:"text-emerald-400 font-bold",children:b.summary.totalOrdered})]})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("button",{className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(Jc,{className:"w-4 h-4 text-gray-400"})})})]},b.id))})]})})}),r.jsx(Hf,{revision:k,differences:k?C(k.id):[],isOpen:p,onClose:H,onUpdateDifferenceAction:M})]})})},Qf=({revisions:f,differences:P})=>{const[d,M]=O.useState("30days"),[k,u]=O.useState("all"),p=O.useMemo(()=>{const w=new Date;let h;switch(d){case"7days":h=new Date(w.getTime()-7*24*60*60*1e3);break;case"30days":h=new Date(w.getTime()-30*24*60*60*1e3);break;case"90days":h=new Date(w.getTime()-90*24*60*60*1e3);break;default:h=new Date(0)}const $=f.filter(C=>new Date(C.timestamp)>=h),H=P.filter(C=>{const b=f.find(U=>U.id===C.revisionId);return b&&new Date(b.timestamp)>=h});return{revisions:$,differences:H}},[f,P,d]),D=O.useMemo(()=>{if(p.revisions.length===0)return null;const w=p.revisions.length,h=p.differences.length,$=new Set(p.differences.map(pe=>pe.productId)).size,H=Math.max(1,Math.ceil((Date.now()-new Date(p.revisions[p.revisions.length-1]?.timestamp||Date.now()).getTime())/(1e3*60*60*24))),C=w/H,b=h/H,U=p.differences.slice(0,Math.floor(p.differences.length*.3)),V=p.differences.slice(Math.floor(p.differences.length*.7)),B=U.length>0?U.length/Math.max(1,U.length):0,W=V.length>0?V.length/Math.max(1,V.length):0,le=B>W?"increasing":B<W?"decreasing":"stable";return{totalRevisions:w,totalDifferences:h,totalProductsWithDifferences:$,avgRevisionsPerDay:C.toFixed(1),avgDifferencesPerDay:b.toFixed(1),trend:le,daysDiff:H}},[p]),v=O.useMemo(()=>{const w=p.differences.reduce((h,$)=>(h[$.productId]||(h[$.productId]={productId:$.productId,productName:$.productName,category:$.category,count:0,totalDifference:0,avgDifference:0}),h[$.productId].count++,h[$.productId].totalDifference+=Math.abs($.difference),h),{});return Object.values(w).map(h=>({...h,avgDifference:h.totalDifference/h.count})).sort((h,$)=>$.count-h.count).slice(0,10)},[p.differences]),_=O.useMemo(()=>{const w=p.differences.reduce((h,$)=>(h[$.category]=(h[$.category]||0)+1,h),{});return Object.entries(w).map(([h,$])=>({category:h,count:$})).sort((h,$)=>$.count-h.count)},[p.differences]),j=O.useMemo(()=>{const w=p.differences.reduce((h,$)=>{const H=$.action||"none";return h[H]=(h[H]||0)+1,h},{});return Object.entries(w).map(([h,$])=>({action:h,count:$,label:h==="investigation"?"Разследване":h==="order"?"Поръчка":h==="adjustment"?"Коригиране":"Без действие"})).sort((h,$)=>$.count-h.count)},[p.differences]),E=O.useMemo(()=>{const w=p.revisions.reduce((h,$)=>{const H=new Date($.timestamp).toLocaleDateString("bg-BG",{month:"short",year:"numeric"});h[H]||(h[H]={revisions:0,differences:0,productsWithDifferences:0}),h[H].revisions++,h[H].productsWithDifferences+=$.summary.productsWithDifferences;const C=p.differences.filter(b=>b.revisionId===$.id);return h[H].differences+=C.length,h},{});return Object.entries(w).map(([h,$])=>({month:h,...$})).sort((h,$)=>new Date(h.month).getTime()-new Date($.month).getTime())},[p]),g=w=>{switch(w){case"increasing":return r.jsx(Jt,{className:"w-5 h-5 text-red-400"});case"decreasing":return r.jsx(lu,{className:"w-5 h-5 text-green-400"});default:return r.jsx(pf,{className:"w-5 h-5 text-blue-400"})}},F=w=>{switch(w){case"increasing":return"text-red-400";case"decreasing":return"text-green-400";default:return"text-blue-400"}},T=w=>{switch(w){case"increasing":return"Разликите се увеличават";case"decreasing":return"Разликите намаляват";default:return"Разликите са стабилни"}};return D?r.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Анализ на тенденциите"}),r.jsx("p",{className:"text-gray-400",children:"Анализ на разликите в склада и тенденциите им"})]}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Период"}),r.jsxs("select",{value:d,onChange:w=>M(w.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-600",children:[r.jsx("option",{value:"7days",children:"Последните 7 дни"}),r.jsx("option",{value:"30days",children:"Последните 30 дни"}),r.jsx("option",{value:"90days",children:"Последните 90 дни"}),r.jsx("option",{value:"all",children:"Всички"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Категория"}),r.jsxs("select",{value:k,onChange:w=>u(w.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-600",children:[r.jsx("option",{value:"all",children:"Всички категории"}),_.map(({category:w})=>r.jsx("option",{value:w,children:w},w))]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Общо ревизии"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:D.totalRevisions}),r.jsxs("p",{className:"text-gray-500 text-sm",children:[D.avgRevisionsPerDay," на ден"]})]}),r.jsx(Pr,{className:"w-8 h-8 text-blue-400"})]})}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Общо разлики"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:D.totalDifferences}),r.jsxs("p",{className:"text-gray-500 text-sm",children:[D.avgDifferencesPerDay," на ден"]})]}),r.jsx(Zt,{className:"w-8 h-8 text-orange-400"})]})}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Продукти с разлики"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:D.totalProductsWithDifferences}),r.jsx("p",{className:"text-gray-500 text-sm",children:"уникални продукти"})]}),r.jsx(Ae,{className:"w-8 h-8 text-red-400"})]})}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Тенденция"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[g(D.trend),r.jsx("p",{className:`text-lg font-bold ${F(D.trend)}`,children:T(D.trend)})]})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Най-проблемни продукти"}),r.jsx("div",{className:"space-y-3",children:v.slice(0,5).map((w,h)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${h===0?"bg-red-500":h===1?"bg-orange-500":h===2?"bg-yellow-500":"bg-gray-500"}`,children:h+1}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:w.productName}),r.jsx("p",{className:"text-gray-400 text-sm",children:w.category})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-white font-bold",children:w.count}),r.jsx("p",{className:"text-gray-400 text-sm",children:"разлики"})]})]},w.productId))})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Разлики по категории"}),r.jsx("div",{className:"space-y-3",children:_.slice(0,5).map(({category:w,count:h},$)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center",children:r.jsx(Ae,{className:"w-4 h-4 text-white"})}),r.jsx("span",{className:"text-white font-medium",children:w})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-white font-bold",children:h}),r.jsx("p",{className:"text-gray-400 text-sm",children:"разлики"})]})]},w))})]})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Месечна тенденция"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-300",children:"Месец"}),r.jsx("th",{className:"px-4 py-2 text-center text-sm font-medium text-gray-300",children:"Ревизии"}),r.jsx("th",{className:"px-4 py-2 text-center text-sm font-medium text-gray-300",children:"Разлики"}),r.jsx("th",{className:"px-4 py-2 text-center text-sm font-medium text-gray-300",children:"Продукти с разлики"}),r.jsx("th",{className:"px-4 py-2 text-center text-sm font-medium text-gray-300",children:"Средно разлики/ревизия"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-700",children:E.map(({month:w,revisions:h,differences:$,productsWithDifferences:H})=>r.jsxs("tr",{className:"hover:bg-gray-750 transition-colors",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-white font-medium",children:w})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"text-gray-300",children:h})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"text-orange-400 font-bold",children:$})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"text-red-400 font-bold",children:H})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"text-gray-300",children:h>0?($/h).toFixed(1):"0"})})]},w))})]})})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Разпределение на действията"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:j.map(({action:w,count:h,label:$})=>r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 text-center",children:[r.jsx("div",{className:`w-12 h-12 rounded-full mx-auto mb-2 flex items-center justify-center ${w==="investigation"?"bg-yellow-500":w==="order"?"bg-blue-500":w==="adjustment"?"bg-emerald-500":"bg-gray-500"}`,children:w==="investigation"?r.jsx(Zt,{className:"w-6 h-6 text-white"}):w==="order"?r.jsx(Jt,{className:"w-6 h-6 text-white"}):w==="adjustment"?r.jsx(Ae,{className:"w-6 h-6 text-white"}):r.jsx(Pr,{className:"w-6 h-6 text-white"})}),r.jsx("p",{className:"text-white font-bold text-lg",children:h}),r.jsx("p",{className:"text-gray-400 text-sm",children:$})]},w))})]})]})}):r.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Pr,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Няма данни за анализ"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Извършете първата ревизия за да видите анализи"})]})})})},qf=({differences:f,onUpdateDifferenceAction:P})=>{const[d,M]=O.useState([]),[k,u]=O.useState(!1),[p,D]=O.useState(null),[v,_]=O.useState({name:"",description:"",conditions:[],actions:[],isActive:!0});O.useEffect(()=>{const C=localStorage.getItem("automaticActions");C&&M(JSON.parse(C))},[]);const j=C=>{M(C),localStorage.setItem("automaticActions",JSON.stringify(C))},E=(C,b)=>C.conditions.every(U=>{switch(U.type){case"difference_threshold":const V=Number(U.value);if(U.operator==="greater_than")return Math.abs(b.difference)>V;if(U.operator==="less_than")return Math.abs(b.difference)<V;break;case"frequency":const B=Number(U.value),W=f.filter(le=>le.productId===b.productId);if(U.operator==="greater_than")return W.length>B;if(U.operator==="less_than")return W.length<B;break;case"category":if(U.operator==="equals")return b.category===U.value;if(U.operator==="contains")return b.category.includes(U.value);break;case"product":return b.productId===U.productId}return!1}),g=(C,b)=>{const U={...C,lastTriggered:new Date,triggerCount:C.triggerCount+1},V=d.map(B=>B.id===C.id?U:B);j(V),C.actions.forEach(B=>{switch(B.type){case"notification":"Notification"in window&&Notification.permission==="granted"&&new Notification("Автоматично действие",{body:B.message||`Действие "${C.name}" е изпълнено за ${b.productName}`,icon:"/favicon.ico"});break;case"auto_order":const W=B.value?Number(B.value):Math.abs(b.difference);P(b.id,"order",`Автоматична поръчка: ${W} бр.`);break;case"adjustment":P(b.id,"adjustment","Автоматично коригиране на склада");break;case"investigation":P(b.id,"investigation","Автоматично разследване");break}})};O.useEffect(()=>{f.forEach(C=>{d.filter(b=>b.isActive).forEach(b=>{E(b,C)&&g(b,C)})})},[f]);const F=()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},T=()=>{_(C=>({...C,conditions:[...C.conditions||[],{type:"difference_threshold",operator:"greater_than",value:0}]}))},w=()=>{_(C=>({...C,actions:[...C.actions||[],{type:"notification",message:""}]}))},h=()=>{if(!v.name||!v.description)return;const C={id:Date.now().toString(),name:v.name,description:v.description,conditions:v.conditions||[],actions:v.actions||[],isActive:v.isActive||!0,createdAt:new Date,triggerCount:0};j([...d,C]),_({name:"",description:"",conditions:[],actions:[],isActive:!0}),u(!1)},$=C=>{j(d.filter(b=>b.id!==C))},H=C=>{const b=d.map(U=>U.id===C?{...U,isActive:!U.isActive}:U);j(b)};return r.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Автоматични действия"}),r.jsx("p",{className:"text-gray-400",children:"Настройка на автоматични действия при разлики в склада"})]}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(xf,{className:"w-6 h-6 text-blue-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Известия"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Получавайте известия за автоматични действия"})]})]}),r.jsx("button",{onClick:F,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Разреши известия"})]})}),r.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden mb-6",children:[r.jsx("div",{className:"p-6 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Настроени действия"}),r.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors",children:[r.jsx(hn,{className:"w-4 h-4"}),r.jsx("span",{children:"Ново действие"})]})]})}),d.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(tu,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Няма настроени автоматични действия"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Създайте първото действие за да започнете"})]}):r.jsx("div",{className:"divide-y divide-gray-700",children:d.map(C=>r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:C.name}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.isActive?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:C.isActive?"Активно":"Неактивно"})]}),r.jsx("p",{className:"text-gray-400 mb-4",children:C.description}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Условия:"}),r.jsx("div",{className:"space-y-2",children:C.conditions.map((b,U)=>r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx(Zt,{className:"w-4 h-4 text-orange-400"}),r.jsxs("span",{className:"text-gray-300",children:[b.type==="difference_threshold"&&`Разлика ${b.operator==="greater_than"?">":"<"} ${b.value}`,b.type==="frequency"&&`Честота ${b.operator==="greater_than"?">":"<"} ${b.value}`,b.type==="category"&&`Категория ${b.operator==="equals"?"=":"съдържа"} ${b.value}`,b.type==="product"&&"Конкретен продукт"]})]},U))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Действия:"}),r.jsx("div",{className:"space-y-2",children:C.actions.map((b,U)=>r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx(au,{className:"w-4 h-4 text-blue-400"}),r.jsxs("span",{className:"text-gray-300",children:[b.type==="notification"&&"Известие",b.type==="auto_order"&&`Автоматична поръчка: ${b.value} бр.`,b.type==="adjustment"&&"Коригиране на склада",b.type==="investigation"&&"Разследване"]})]},U))})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Zc,{className:"w-4 h-4"}),r.jsxs("span",{children:["Създадено: ",new Date(C.createdAt).toLocaleDateString("bg-BG")]})]}),C.lastTriggered&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Un,{className:"w-4 h-4"}),r.jsxs("span",{children:["Последно: ",new Date(C.lastTriggered).toLocaleDateString("bg-BG")]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Jt,{className:"w-4 h-4"}),r.jsxs("span",{children:["Изпълнено: ",C.triggerCount," пъти"]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx("button",{onClick:()=>H(C.id),className:`p-2 rounded-lg transition-colors ${C.isActive?"bg-orange-600 hover:bg-orange-700 text-white":"bg-emerald-600 hover:bg-emerald-700 text-white"}`,children:C.isActive?r.jsx(Cf,{className:"w-4 h-4"}):r.jsx(Un,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>$(C.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:r.jsx(pn,{className:"w-4 h-4"})})]})]})},C.id))})]}),k&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Ново автоматично действие"}),r.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-white p-2 rounded-lg hover:bg-gray-700 transition-colors",children:"✕"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Име на действието"}),r.jsx("input",{type:"text",value:v.name,onChange:C=>_(b=>({...b,name:C.target.value})),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600",placeholder:"Например: Автоматична поръчка при голяма разлика"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Описание"}),r.jsx("textarea",{value:v.description,onChange:C=>_(b=>({...b,description:C.target.value})),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-600",rows:3,placeholder:"Обяснете кога и какво трябва да се случи..."})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Условия"}),r.jsxs("button",{onClick:T,className:"flex items-center space-x-2 px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:[r.jsx(hn,{className:"w-3 h-3"}),r.jsx("span",{children:"Добави условие"})]})]}),r.jsx("div",{className:"space-y-3",children:(v.conditions||[]).map((C,b)=>r.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-700 rounded-lg",children:[r.jsxs("select",{value:C.type,onChange:U=>{const V=[...v.conditions||[]];V[b].type=U.target.value,_(B=>({...B,conditions:V}))},className:"px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-600",children:[r.jsx("option",{value:"difference_threshold",children:"Разлика в склада"}),r.jsx("option",{value:"frequency",children:"Честота на разлики"}),r.jsx("option",{value:"category",children:"Категория"}),r.jsx("option",{value:"product",children:"Конкретен продукт"})]}),r.jsxs("select",{value:C.operator,onChange:U=>{const V=[...v.conditions||[]];V[b].operator=U.target.value,_(B=>({...B,conditions:V}))},className:"px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-600",children:[r.jsx("option",{value:"greater_than",children:"по-голямо от"}),r.jsx("option",{value:"less_than",children:"по-малко от"}),r.jsx("option",{value:"equals",children:"равно на"}),r.jsx("option",{value:"contains",children:"съдържа"})]}),r.jsx("input",{type:"text",value:C.value,onChange:U=>{const V=[...v.conditions||[]];V[b].value=U.target.value,_(B=>({...B,conditions:V}))},className:"px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-600",placeholder:"Стойност"}),r.jsx("button",{onClick:()=>{const U=(v.conditions||[]).filter((V,B)=>B!==b);_(V=>({...V,conditions:U}))},className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",children:r.jsx(pn,{className:"w-3 h-3"})})]},b))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Действия"}),r.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-3 py-1 bg-emerald-600 hover:bg-emerald-700 text-white rounded text-sm transition-colors",children:[r.jsx(hn,{className:"w-3 h-3"}),r.jsx("span",{children:"Добави действие"})]})]}),r.jsx("div",{className:"space-y-3",children:(v.actions||[]).map((C,b)=>r.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-700 rounded-lg",children:[r.jsxs("select",{value:C.type,onChange:U=>{const V=[...v.actions||[]];V[b].type=U.target.value,_(B=>({...B,actions:V}))},className:"px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-600",children:[r.jsx("option",{value:"notification",children:"Известие"}),r.jsx("option",{value:"auto_order",children:"Автоматична поръчка"}),r.jsx("option",{value:"adjustment",children:"Коригиране на склада"}),r.jsx("option",{value:"investigation",children:"Разследване"})]}),C.type==="auto_order"&&r.jsx("input",{type:"number",value:C.value||"",onChange:U=>{const V=[...v.actions||[]];V[b].value=U.target.value,_(B=>({...B,actions:V}))},className:"px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-600",placeholder:"Количество"}),C.type==="notification"&&r.jsx("input",{type:"text",value:C.message||"",onChange:U=>{const V=[...v.actions||[]];V[b].message=U.target.value,_(B=>({...B,actions:V}))},className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-600",placeholder:"Съобщение"}),r.jsx("button",{onClick:()=>{const U=(v.actions||[]).filter((V,B)=>B!==b);_(V=>({...V,actions:U}))},className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",children:r.jsx(pn,{className:"w-3 h-3"})})]},b))})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-700",children:[r.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:"Отказ"}),r.jsx("button",{onClick:h,disabled:!v.name||!v.description,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:"Запази действие"})]})]})]})})})]})})},Kf=()=>{const[f,P]=O.useState([]),[d,M]=O.useState(null),k=O.useCallback(E=>{P(g=>{const F=g.find(w=>w.id===E.id);return F&&F.quantity,(E.stock??1/0)===0?(M(`Няма наличност за ${E.name}. Продуктът е изчерпан.`),setTimeout(()=>M(null),3e3),g):(M(null),F?g.map(w=>w.id===E.id?{...w,quantity:w.quantity+1}:w):[...g,{...E,quantity:1}])})},[]),u=O.useCallback((E,g)=>{g<=0?P(F=>F.filter(T=>T.id!==E)):P(F=>{const T=F.find(h=>h.id===E);return T?(T.stock??1/0)===0&&g>0?(M(`Няма наличност за ${T.name}. Продуктът е изчерпан.`),setTimeout(()=>M(null),3e3),F):(M(null),F.map(h=>h.id===E?{...h,quantity:g}:h)):F})},[]),p=O.useCallback(E=>{P(g=>g.filter(F=>F.id!==E))},[]),D=O.useCallback(()=>{P([])},[]),v=O.useCallback(()=>{M(null)},[]),_=f.reduce((E,g)=>E+g.price*g.quantity,0),j=f.reduce((E,g)=>E+g.quantity,0);return{items:f,addToCart:k,updateQuantity:u,removeItem:p,clearCart:D,clearStockWarning:v,total:_,itemCount:j,stockWarning:d}},Gf=()=>{const[f,P]=O.useState("");return O.useEffect(()=>{const d=()=>{P(new Date().toLocaleTimeString("bg-BG",{hour:"2-digit",minute:"2-digit",second:"2-digit"}))};d();const M=setInterval(d,1e3);return()=>clearInterval(M)},[]),f},Xf=f=>O.useMemo(()=>{const P=new Date;P.setHours(0,0,0,0);const d=f.filter(j=>{const E=new Date(j.timestamp);return E.setHours(0,0,0,0),E.getTime()===P.getTime()}),M=f.reduce((j,E)=>j+E.total,0),k=d.reduce((j,E)=>j+E.total,0),u=f.length>0?M/f.length:0,p=new Map;f.forEach(j=>{j.items.forEach(E=>{const g=p.get(E.id)||{product:E,quantity:0,revenue:0};g.quantity+=E.quantity,g.revenue+=E.price*E.quantity,p.set(E.id,g)})});const D=Array.from(p.values()).sort((j,E)=>E.revenue-j.revenue).slice(0,5),v=Array.from({length:24},(j,E)=>({hour:E,transactions:0,revenue:0}));d.forEach(j=>{const E=new Date(j.timestamp).getHours();v[E].transactions+=1,v[E].revenue+=j.total});const _=[{method:"cash",count:0,revenue:0},{method:"card",count:0,revenue:0},{method:"digital",count:0,revenue:0}];return f.forEach(j=>{const E=_.find(g=>g.method===j.paymentMethod);E&&(E.count+=1,E.revenue+=j.total)}),{totalTransactions:f.length,totalRevenue:M,todayTransactions:d.length,todayRevenue:k,averageOrderValue:u,topProducts:D,hourlyStats:v,paymentMethodStats:_}},[f]),Yf=[{id:"1",name:"Кафе Еспресо",price:2.5,category:"Напитки",stock:50},{id:"2",name:"Капучино",price:3.2,category:"Напитки",stock:45,discount:10},{id:"3",name:"Лате",price:3.5,category:"Напитки",stock:40},{id:"4",name:"Круасан",price:4.8,category:"Храна",stock:25,discount:15},{id:"5",name:"Сандвич Клуб",price:8.9,category:"Храна",stock:30},{id:"6",name:"Салата Цезар",price:12.5,category:"Храна",stock:20},{id:"7",name:"Мъфин",price:3.8,category:"Десерти",stock:35,discount:20},{id:"8",name:"Тирамису",price:6.5,category:"Десерти",stock:15},{id:"9",name:"Чийзкейк",price:7.2,category:"Десерти",stock:18},{id:"10",name:"Фреш Портокал",price:4.2,category:"Напитки",stock:25},{id:"11",name:"Минерална Вода",price:1.8,category:"Напитки",stock:100},{id:"12",name:"Паста Карбонара",price:14.9,category:"Храна",stock:22},{id:"13",name:"Кафе Американо",price:2.8,category:"Напитки",stock:3},{id:"14",name:"Тостов",price:5.5,category:"Храна",stock:0},{id:"15",name:"Шоколадов Кейк",price:8.9,category:"Десерти",stock:7},{id:"16",name:"Чай Зелен",price:2.2,category:"Напитки",stock:2}],Zf=()=>{const[f,P]=O.useState(Yf),d=O.useCallback(D=>{const v={...D,id:Date.now().toString()};P(_=>[..._,v])},[]),M=O.useCallback((D,v)=>{P(_=>_.map(j=>j.id===D?{...j,...v}:j))},[]),k=O.useCallback(D=>{P(v=>v.filter(_=>_.id!==D))},[]),u=O.useCallback((D,v=1)=>{P(_=>_.map(j=>j.id===D&&j.stock!==void 0?{...j,stock:Math.max(0,j.stock-v)}:j))},[]),p=O.useCallback((D,v=1)=>{P(_=>_.map(j=>j.id===D&&j.stock!==void 0?{...j,stock:j.stock+v}:j))},[]);return{products:f,addProduct:d,updateProduct:M,deleteProduct:k,decreaseStock:u,increaseStock:p}},Jf=[{id:"1",name:"Напитки",description:"Горещи и студени напитки",color:"blue"},{id:"2",name:"Храна",description:"Основни ястия и закуски",color:"green"},{id:"3",name:"Десерти",description:"Сладкиши и десерти",color:"purple"}],em=()=>{const[f,P]=O.useState(Jf),d=O.useCallback(u=>{const p={...u,id:Date.now().toString()};P(D=>[...D,p])},[]),M=O.useCallback((u,p)=>{P(D=>D.map(v=>v.id===u?{...v,...p}:v))},[]),k=O.useCallback(u=>{P(p=>p.filter(D=>D.id!==u))},[]);return{categories:f,addCategory:d,updateCategory:M,deleteCategory:k}},tm=()=>{const[f,P]=O.useState([]),d=O.useCallback(p=>{const D={...p,id:Date.now().toString(),timestamp:new Date};return P(v=>[D,...v]),D},[]),M=O.useCallback((p,D,v)=>{P(_=>_.map(j=>j.id===p?{...j,status:D,cancellationReason:v||j.cancellationReason}:j))},[]),k=O.useCallback(p=>{P(D=>D.filter(v=>v.id!==p))},[]),u=O.useCallback(p=>f.filter(D=>D.status===p),[f]);return{orders:f,addOrder:d,updateOrderStatus:M,deleteOrder:k,getOrdersByStatus:u}},nm=()=>{const[f,P]=O.useState([]),[d,M]=O.useState([]),k=O.useCallback(g=>{const F={...g,id:Date.now().toString(),timestamp:new Date};P(w=>[F,...w]);const T=g.items.filter(w=>w.difference!==0).map(w=>({id:`${Date.now()}-${w.productId}`,revisionId:F.id,productId:w.productId,productName:w.productName,category:w.category,expectedStock:w.expectedStock,actualStock:w.actualStock,difference:w.difference,percentageDifference:w.expectedStock>0?Math.abs(w.difference/w.expectedStock*100):0,timestamp:new Date,action:w.orderQuantity>0?"order":"investigation"}));return M(w=>[...T,...w]),F},[]),u=O.useCallback((g,F)=>f.filter(T=>T.timestamp>=g&&T.timestamp<=F),[f]),p=O.useCallback(g=>d.filter(F=>F.productId===g),[d]),D=O.useCallback(g=>d.filter(F=>F.revisionId===g),[d]),v=O.useCallback((g,F,T)=>{M(w=>w.map(h=>h.id===g?{...h,action:F,reason:T}:h))},[]),_=O.useCallback(()=>{if(f.length===0)return null;const g=f.length,F=d.length,T=new Set(d.map(H=>H.productId)).size,w=F/g,h=d.reduce((H,C)=>(H[C.productId]=(H[C.productId]||0)+1,H),{}),$=Object.entries(h).sort(([,H],[,C])=>C-H).slice(0,5).map(([H,C])=>({productId:H,count:C,productName:d.find(b=>b.productId===H)?.productName||"Unknown"}));return{totalRevisions:g,totalDifferences:F,totalProductsWithDifferences:T,averageDifferencesPerRevision:w,topProblematicProducts:$}},[f,d]),j=O.useCallback(()=>d.reduce((g,F)=>(g[F.category]=(g[F.category]||0)+1,g),{}),[d]),E=O.useCallback(()=>d.reduce((g,F)=>(g[F.action||"none"]=(g[F.action||"none"]||0)+1,g),{}),[d]);return{revisions:f,differences:d,addRevision:k,getRevisionsByDateRange:u,getDifferencesByProduct:p,getDifferencesByRevision:D,updateDifferenceAction:v,getRevisionStats:_,getDifferencesByCategory:j,getDifferencesByAction:E}};function rm(){const[f,P]=O.useState("pos"),[d,M]=O.useState([]),{items:k,addToCart:u,updateQuantity:p,removeItem:D,clearCart:v,clearStockWarning:_,total:j,itemCount:E,stockWarning:g}=Kf();Gf();const F=Xf(d),{products:T,addProduct:w,updateProduct:h,deleteProduct:$,decreaseStock:H,increaseStock:C}=Zf(),{categories:b,addCategory:U,updateCategory:V,deleteCategory:B}=em(),{orders:W,addOrder:le,updateOrderStatus:pe,deleteOrder:ye}=tm(),je=W.filter(Z=>Z.status==="pending"||Z.status==="ordered").length,{revisions:we,differences:Te,addRevision:lt,updateDifferenceAction:Ue}=nm(),be=Z=>{if(Z.stock===0){u(Z);return}u(Z),H(Z.id,1)},Q=(Z,he)=>{const Ke=k.find(bt=>bt.id===Z);if(Ke){const bt=he-Ke.quantity;if(Ke.stock===0&&he>0){p(Z,he);return}bt>0?H(Z,bt):bt<0&&C(Z,Math.abs(bt))}p(Z,he)},ne=Z=>{const he=k.find(Ke=>Ke.id===Z);he&&C(Z,he.quantity),D(Z)},K=()=>{k.forEach(Z=>{C(Z.id,Z.quantity)}),v()},x=Z=>{M(he=>[Z,...he])},R=(Z,he)=>{h(Z,{stock:he})},se=Z=>{le(Z)},ae=(Z,he,Ke)=>{pe(Z,he,Ke)},ce=Z=>{ye(Z)},ue=Z=>{lt(Z)},xe=(Z,he,Ke)=>{Ue(Z,he,Ke)},me=()=>{switch(f){case"pos":return r.jsx(Mf,{products:T,cartItems:k,cartTotal:j,stockWarning:g,onAddToCart:be,onUpdateQuantity:Q,onRemoveItem:ne,onClearCart:K,onPaymentComplete:x,onClearStockWarning:_});case"dashboard":return r.jsx(Of,{transactions:d,stats:F});case"inventory":return r.jsx(Uf,{products:T,onUpdateStock:R,onCreateOrder:se,onCreateRevision:ue});case"orders":return r.jsx(Vf,{orders:W,products:T,onUpdateOrderStatus:ae,onDeleteOrder:ce,onUpdateProductStock:(Z,he)=>h(Z,{stock:he})});case"revision-history":return r.jsx(Wf,{revisions:we,differences:Te,onViewRevision:()=>{},onUpdateDifferenceAction:xe});case"analytics":return r.jsx(Qf,{revisions:we,differences:Te});case"automatic-actions":return r.jsx(qf,{differences:Te,onUpdateDifferenceAction:xe});case"settings":return r.jsx(Af,{products:T,categories:b,onAddProduct:w,onUpdateProduct:h,onDeleteProduct:$,onAddCategory:U,onUpdateCategory:V,onDeleteCategory:B});default:return null}};return r.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[r.jsx(Ef,{activeView:f,onViewChange:P,cartItemsCount:E,newOrdersCount:je}),r.jsx("div",{className:"flex flex-1 overflow-hidden flex-col lg:flex-row",children:me()})]})}ff.createRoot(document.getElementById("root")).render(r.jsx(O.StrictMode,{children:r.jsx(rm,{})}));
